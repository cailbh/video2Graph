{"remainingRequest":"D:\\Cailibuhong\\video2Graph\\video2Graph\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Cailibuhong\\video2Graph\\video2Graph\\src\\components\\Video\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Cailibuhong\\video2Graph\\video2Graph\\src\\components\\Video\\index.vue","mtime":1680339096437},{"path":"D:\\Cailibuhong\\video2Graph\\video2Graph\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1688115046166},{"path":"D:\\Cailibuhong\\video2Graph\\video2Graph\\node_modules\\babel-loader\\lib\\index.js","mtime":1688115046651},{"path":"D:\\Cailibuhong\\video2Graph\\video2Graph\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1688115046166},{"path":"D:\\Cailibuhong\\video2Graph\\video2Graph\\node_modules\\vue-loader\\lib\\index.js","mtime":1688115046800}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJw0KaW1wb3J0IHsgb25Nb3VudGVkLCByZWYgfSBmcm9tICd2dWUnOw0KaW1wb3J0IGZpbGVuYW1lcyBmcm9tICJAL3V0aWxzL2ZpbGVOYW1lIjsNCmltcG9ydCBkb210b2ltYWdlIGZyb20gJ2RvbS10by1pbWFnZSc7DQppbXBvcnQgVmlkZW9QbGF5IGZyb20gJ0AvY29tcG9uZW50cy9WaWRlb1BsYXknOw0KaW1wb3J0IHRvb2xzIGZyb20gIkAvdXRpbHMvdG9vbHMuanMiOw0KaW1wb3J0IHNjcmlwdHNEYXRhIGZyb20gJ0AvYXNzZXRzL2pzb24vY2FzZTFzY3JpcHRzRGF0YS5qc29uJw0KDQovL+WcuuaZr+WFg+e0oGRpdg0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogWyJ0aW1lRHVyIl0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBWaWRlb1BsYXkNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgc2NyaXB0c0RhdGE6c2NyaXB0c0RhdGEsDQogICAgICBzY3JpcHRzVGV4dDpbXSwNCiAgICAgIGtldFRleHQ6W10sDQogICAgICB2aWRlb1dpZHRoOiAxMDAsDQogICAgICB2aWRlb0hlaWdodDogMTAwLA0KICAgICAgcm9vdFRvcGljTGluZVdpZHRoOjEwMCwNCiAgICAgIHJvb3RUb3BpY0xpbmVIZWlnaHQ6MTAwLA0KICAgICAgZGF0YTogJycsDQogICAgICByZWxEYXRhOiAnJywNCiAgICAgIHRpbWVEb3Q6IDAsDQogICAgICB2aWRlb0R1cmF0aW9uOiA0ODIsDQogICAgICBwdWJsaWNQYXRoOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwNCiAgICAgIHZlcnRleFNoYWRlcjogJycsDQogICAgICAvLyB1cmw6Ii4uL3ZpZGVvcy9bMi4xLjFdLS3mnLrlmajmlbDlj4rnibnngrnop4bpopEubXA0IiwNCiAgICAgIHVybDogIi4uL3ZpZGVvcy9jYXNlMS5tcDQiLA0KICAgICAgdmlkZW9Vcmw6IHJlcXVpcmUoJ0AvYXNzZXRzL3ZpZGVvcy9jYXNlMS5tcDQnKSwNCiAgICAgIC8vIOinhumikeWwgemdouaUr+aMgWh0dHBz5oiWcmVxdWlyZeacrOWcsOWcsOWdgA0KICAgICAgdmlkZW9Db3ZlcjogcmVxdWlyZSgnQC9hc3NldHMvaW1nL3R0LmpwZycpLA0KDQogICAgICB3aW5kb3dXaWR0aDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLCAvL+WunuaXtuWxj+W5leWuveW6pg0KICAgICAgd2luZG93SGVpZ2h0OiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LCAvL+WunuaXtuWxj+W5lemrmOW6pg0KICAgICAgY29sb3JNYXA6IHt9LA0KICAgICAgbWFyZ2luOiB7IHRvcDogNSwgcmlnaHQ6IDUsIGJvdHRvbTogNSwgbGVmdDogNSB9LA0KICAgICAgLy8gbWNvbG9yOiBbDQogICAgICAvLyAgICJyZ2IoMjU1LDYwLDYwKSIsDQogICAgICAvLyAgICJyZ2IoMTU1LDIwLDEwMCkiLA0KICAgICAgLy8gICAicmdiKDI1NSw4MywyNTUpIiwNCiAgICAgIC8vICAgInJnYigyMDAsMTAwLDUwKSIsDQogICAgICAvLyAgICJyZ2IoMjM1LDEzNSwxNjIpIiwNCiAgICAgIC8vICAgInJnYigyMDAsMjAwLDEwMikiLA0KICAgICAgLy8gICAicmdiKDI1NSwxNzgsMTAxKSIsDQogICAgICAvLyAgICJyZ2IoNjMsMTUxLDEzNCkiLA0KICAgICAgLy8gICAicmdiKDgzLDE1NSwyNTUpIiwNCiAgICAgIC8vICAgInJnYig1MCwyMDAsMTIwKSIsDQogICAgICAvLyAgICJyZ2IoMiw1MCwyMDApIiwNCiAgICAgIC8vICAgInJnYigwLDEyMiwyNDQpIiwNCiAgICAgIC8vICAgInJnYigxNTAsMTIyLDI0NCkiLA0KICAgICAgLy8gICAicmdiKDE2OCwxNjgsMjU1KSIsDQogICAgICAvLyAgICJyZ2IoMjAwLDIwMCwyMDApIiwNCiAgICAgIC8vIF0sDQogICAgICBtY29sb3I6IFsNCiAgICAgICAgInJnYig5MSwgMTA3LCAyNTUpIiwNCiAgICAgICAgInJnYig2LCAyMTQsIDE2MCkiLA0KICAgICAgICAicmdiKDI1NSwgMTIwLCA5MCkiLA0KICAgICAgICAicmdiKDEyNSwgOTgsIDIxMSkiLA0KICAgICAgICAicmdiKDI1NSwgMTEzLCAyMTIpIiwNCiAgICAgICAgInJnYigxMTIsIDIxNCwgMjU1KSIsDQogICAgICAgICJyZ2IoMjU1LCAxNTksIDI4KSIsDQogICAgICAgICJyZ2IoMjU1LCA3NywgMTA5KSIsDQogICAgICBdLA0KICAgICAgbUxpZ2h0Y29sb3I6IFsNCiAgICAgICAgIiNmZjljOWMiLA0KICAgICAgICAiI2NjODhiMCIsDQogICAgICAgICIjZmZhOGZmIiwNCiAgICAgICAgIiNlM2IwOTciLA0KICAgICAgICAiI2Y0YzNkMCIsDQogICAgICAgICIjZjRmNGQwIiwNCiAgICAgICAgIiNmZmQ4YjEiLA0KICAgICAgICAiIzllY2FjMiIsDQogICAgICAgICIjYThjY2ZmIiwNCiAgICAgICAgIiM5N2UzYmEiLA0KICAgICAgICAiIzZmOGJlMCIsDQogICAgICAgICJyZ2IoMCwxMjIsMjQ0KSIsDQogICAgICAgICIjYjZhMmY3IiwNCiAgICAgICAgInJnYigxNjgsMTY4LDI1NSkiLA0KICAgICAgICAicmdiKDIwMCwyMDAsMjAwKSIsDQogICAgICBdLA0KICAgICAgRGl2aXNpb25EYXRhTGlzdDogW10sDQogICAgICByb290RGl2aXNpb25EYXRhTGlzdDogW10sDQogICAgICBlbnREaXZpc2lvbkRhdGFMaXN0OiBbXSwNCiAgICB9Ow0KICB9LA0KICB3YXRjaDogew0KICAgIHRpbWVEdXIodmFsKSB7DQogICAgICB0aGlzLnRpbWVEb3QgPSB0b29scy50aW1lMnNlY29uZHModmFsWzBdKTsNCiAgICB9LA0KICAgIHNjcmlwdHNUZXh0KHZhbCl7DQogICAgICB0aGlzLmRyYXdTY3JpcHQoKTsNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBnZXRWaWRlb1RpbWUodmFsKSB7DQogICAgICBjb25zdCBfdGhpcyA9IHRoaXM7DQogICAgICBsZXQgbWFyZ2luID0gX3RoaXMubWFyZ2luOw0KICAgICAgbGV0IHdpZHRoID0gdGhpcy4kcmVmcy5wcm9ncmVzc0Jhci5vZmZzZXRXaWR0aDsNCiAgICAgIGxldCB0aW1lTGluZWFyID0gZDMuc2NhbGVMaW5lYXIoWzAsIF90aGlzLnZpZGVvRHVyYXRpb25dLCBbMCwgd2lkdGhdKTsNCiAgICAgIGxldCBtaWQgPSB0aW1lTGluZWFyKHZhbCkvd2lkdGgqMTAwOw0KICAgICAgX3RoaXMuYWRkU2NyaXB0KHZhbCk7DQogICAgICBkMy5zZWxlY3QoIiNwcm9ncmVzc0JhciIpDQogICAgICAuYXR0cigic3R5bGUiLCJiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHJnYigyMDAsIDIwMCwgMjAwKSAiK21pZCsiJSxyZ2IoMjQ0LCAyNDQsIDI0NCkgIittaWQrIiUpICFpbXBvcnRhbnQiKQ0KICAgICAgdGhpcy4kZW1pdCgidmlkZW9UaW1lIiwgdmFsKTsNCiAgICB9LA0KICAgIHByb2Nlc3NCYXJDbGkoZSl7DQogICAgICBjb25zb2xlLmxvZyhlKTsNCiAgICAgIGNvbnN0IF90aGlzID0gdGhpczsNCiAgICAgIGxldCB4ID0gZS5sYXllclg7IA0KICAgICAgbGV0IHdpZHRoID0gdGhpcy4kcmVmcy5wcm9ncmVzc0Jhci5vZmZzZXRXaWR0aDsNCiAgICAgIGxldCB0aW1lTGluZWFyID0gZDMuc2NhbGVMaW5lYXIoWzAsIHdpZHRoXSwgWzAsIF90aGlzLnZpZGVvRHVyYXRpb25dKTsNCiAgICAgIHRoaXMudGltZURvdCA9IHRpbWVMaW5lYXIoeCk7DQogICAgfSwNCiAgICBhZGRTY3JpcHQodGltZURvdCl7DQogICAgICBjb25zdCBfdGhpcyA9IHRoaXM7DQogICAgICBsZXQgc2NyaXB0c0RhdGEgPSBfdGhpcy5zY3JpcHRzRGF0YTsNCiAgICAgIGZvcihsZXQgdCBpbiBzY3JpcHRzRGF0YSl7DQogICAgICAgIGxldCB0aW1lRHVyID0gc2NyaXB0c0RhdGFbdF1bJ3RpbWUnXTsNCiAgICAgICAgbGV0IHNUaW1lID0gdG9vbHMudGltZTJzZWNvbmRzKHRpbWVEdXJbMF0pOw0KICAgICAgICBsZXQgZVRpbWUgPSB0b29scy50aW1lMnNlY29uZHModGltZUR1clsxXSk7DQogICAgICAgIGlmKCh0aW1lRG90PnNUaW1lKSYmKHRpbWVEb3Q8ZVRpbWUpKXsNCiAgICAgICAgICBfdGhpcy5zY3JpcHRzVGV4dCA9IHNjcmlwdHNEYXRhW3RdWyd0ZXh0J10NCiAgICAgICAgfQ0KDQogICAgICB9DQogICAgfSwNCiAgICBkcmF3U2NyaXB0KCl7DQogICAgICBjb25zdCBfdGhpcyA9IHRoaXM7DQogICAgICBsZXQgdHh0cyA9IF90aGlzLnNjcmlwdHNUZXh0Ow0KICAgICAgbGV0IG1hcmdpbiA9IF90aGlzLm1hcmdpbjsgDQogICAgICBsZXQga2V0VGV4dCA9IF90aGlzLmtldFRleHQ7DQogICAgICBsZXQgd2lkdGggPSB0aGlzLiRyZWZzLnZpZGVvU2NyaXB0Lm9mZnNldFdpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7DQogICAgICBsZXQgaGVpZ2h0ID0gdGhpcy4kcmVmcy52aWRlb1NjcmlwdC5vZmZzZXRIZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTsNCiAgICAgIGQzLnNlbGVjdCgiI3ZpZGVvU2NyaXB0Iikuc2VsZWN0KCJzdmciKS5yZW1vdmUoKTsNCiAgICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoIiN2aWRlb1NjcmlwdCIpLmFwcGVuZCgic3ZnIikNCiAgICAgICAgLmF0dHIoImlkIiwgInZpZGVvU2NyaXB0U3ZnIikNCiAgICAgICAgLmF0dHIoIndpZHRoIiwgd2lkdGgpDQogICAgICAgIC5hdHRyKCJoZWlnaHQiLCBoZWlnaHQpOw0KICAgICAgbGV0IHR4ID0gMzA7DQogICAgICBsZXQgdHkgPSA1MDsNCiAgICAgIGxldCBsYXkgPSAwOw0KICAgICAgZm9yKGxldCBpID0wO2k8dHh0cy5sZW5ndGg7aSsrKXsNCiAgICAgICAgbGV0IG5hbWUgPSB0eHRzW2ldOw0KICAgICAgICBsZXQgdyA9IG5hbWUubGVuZ3RoICoxMDsNCiAgICAgICAgbGV0IGggPSAyMDsNCiAgICAgICAgbGV0IHJ4PTU7DQogICAgICAgIGxldCByeT01Ow0KICAgICAgICAvLyBsZXQgY29sb3IgPSBjb2xvck1hcFtpZHNbaV1dOw0KICAgICAgICAvLyBfdGhpcy5kcmF3UmVjdChnLCB0eCwgdHksIHcsIGgsIHJ4LCByeSwgY29sb3IsIDAuMiwgY29sb3IpDQogICAgICAgIGxldCB0ZXh0Q29sb3IgPSAiYmxhY2siOw0KICAgICAgICBsZXQgc3RvcExpc3QgPSBbIm9mIiwidGhlIiwiYW5kIiwiYmUiLCJ0d28iLCJ4IiwieSIsInoiXTsNCiAgICAgICAgaWYoKGtldFRleHQuaW5kZXhPZihuYW1lKSE9LTEpJiYoc3RvcExpc3QuaW5kZXhPZihuYW1lKT09LTEpKXsNCiAgICAgICAgICB0ZXh0Q29sb3IgPSAicmVkIjsNCiAgICAgICAgfQ0KICAgICAgICBsZXQgc3ZnQXJlYSA9IF90aGlzLmRyYXdUeHQoc3ZnLCB0eCwgdHksIG5hbWUsIHRleHRDb2xvciwgMjQsYHR4dHMke2l9YCk7DQogICAgICAgIGNvbnNvbGUubG9nKHN2Z0FyZWEpDQogICAgICAgIHR4ICs9c3ZnQXJlYS53aWR0aCs1Ow0KICAgICAgICBpZih0eD4od2lkdGgtMjAwKSl7DQogICAgICAgICAgbGV0IHRyYW54ID0gKHdpZHRoLXR4KS8yOw0KICAgICAgICAgIGZvcihsZXQgaiA9IGk7aj49bGF5O2otLSl7DQogICAgICAgICAgICBkMy5zZWxlY3QoYCN0eHRzJHtqfWApLmF0dHIoInRyYW5zZm9ybSIsYHRyYW5zbGF0ZSgke3RyYW54fSwwKWApDQogICAgICAgICAgfQ0KICAgICAgICAgIGxheSA9IGk7DQogICAgICAgICAgdHg9MzA7DQogICAgICAgICAgdHkrPTMwOw0KICAgICAgICB9DQogICAgICAgIGlmKGk9PXR4dHMubGVuZ3RoLTEpew0KICAgICAgICAgIGxldCB0cmFueCA9ICh3aWR0aC10eCkvMjsNCiAgICAgICAgICBmb3IobGV0IGogPSBpO2o+PWxheTtqLS0pew0KICAgICAgICAgICAgZDMuc2VsZWN0KGAjdHh0cyR7an1gKS5hdHRyKCJ0cmFuc2Zvcm0iLGB0cmFuc2xhdGUoJHt0cmFueH0sMClgKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgZHJhd3Jvb3RUb3BpY0xpbmUoKSB7DQogICAgICBjb25zdCBfdGhpcyA9IHRoaXM7DQogICAgICBjb25zdCBtYXJnaW4gPSBfdGhpcy5tYXJnaW47DQogICAgICBjb25zdCBtY29sb3IgPSBfdGhpcy5tY29sb3I7DQoNCiAgICAgIGxldCB3aWR0aCA9IHRoaXMuJHJlZnMucm9vdFRvcGljTGluZS5vZmZzZXRXaWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0Ow0KICAgICAgbGV0IGhlaWdodCA9IHRoaXMuJHJlZnMucm9vdFRvcGljTGluZS5vZmZzZXRIZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTsNCiAgICAgIF90aGlzLnJvb3RUb3BpY0xpbmVXaWR0aCA9IHdpZHRoOw0KICAgICAgX3RoaXMucm9vdFRvcGljTGluZUhlaWdodCA9IGhlaWdodDsNCiAgICAgIGNvbnNvbGUubG9nKHdpZHRoLGhlaWdodCkNCiAgICAgIGQzLnNlbGVjdCgiI3Jvb3RUb3BpY0xpbmUiKS5zZWxlY3QoInN2ZyIpLnJlbW92ZSgpOw0KICAgICAgdmFyIHN2ZyA9IGQzLnNlbGVjdCgiI3Jvb3RUb3BpY0xpbmUiKS5hcHBlbmQoInN2ZyIpDQogICAgICAgIC5hdHRyKCJpZCIsICJyb290VG9waWNMaW5lU3ZnIikNCiAgICAgICAgLmF0dHIoIndpZHRoIiwgd2lkdGgpDQogICAgICAgIC5hdHRyKCJoZWlnaHQiLCBoZWlnaHQpOw0KDQogICAgICBsZXQgZ3JvdXBzID0gc3ZnLmFwcGVuZCgiZyIpLmF0dHIoImlkIiwgImdyb3VwcyIpLmF0dHIoIndpZHRoIiwgd2lkdGgpLmF0dHIoImhlaWdodCIsIGhlaWdodCk7DQogICAgICBsZXQgdG9vdFRvcGljRW50RyA9IGdyb3Vwcy5hcHBlbmQoImciKS5hdHRyKCJpZCIsICJ0b290VG9waWNFbnRHIikuYXR0cigid2lkdGgiLCB3aWR0aCkuYXR0cigiaGVpZ2h0IiwgaGVpZ2h0KTsNCiAgICAgIGxldCByb290T3JpTGluZUcgPSBncm91cHMuYXBwZW5kKCJnIikuYXR0cigiaWQiLCAicm9vdE9yaUxpbmVHIikuYXR0cigid2lkdGgiLCB3aWR0aCkuYXR0cigiaGVpZ2h0IiwgaGVpZ2h0KTsNCg0KICAgICAgcm9vdE9yaUxpbmVHLmFwcGVuZCgibGluZSIpDQogICAgICAgIC5hdHRyKCJ4MSIsIDApDQogICAgICAgIC5hdHRyKCJ5MSIsIGhlaWdodCAvIDIpDQogICAgICAgIC5hdHRyKCJ4MiIsIHdpZHRoKQ0KICAgICAgICAuYXR0cigieTIiLCBoZWlnaHQgLyAyKQ0KICAgICAgICAuYXR0cigic3Ryb2tlIiwgInJnYigyMDAsMjAwLDIwMCkiKQ0KICAgICAgICAuYXR0cigic3Ryb2tlLXdpZHRoIiwgIjVweCIpOw0KDQogICAgICBsZXQgY3hMaW5lYXIgPSBkMy5zY2FsZUxpbmVhcihbMCwgX3RoaXMudmlkZW9EdXJhdGlvbl0sIFttYXJnaW4ubGVmdCwgd2lkdGhdKQ0KDQogICAgICBsZXQgZGF0YSA9IHRvb2xzLmRlZXBDbG9uZShfdGhpcy5kYXRhKTsNCiAgICAgIGxldCBEaXZpc2lvbkRhdGFMaXN0ID0gW107DQogICAgICBsZXQgY29sb3JJbmRleCA9IDA7DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgaWYgKGRhdGFbaV1bJ2xheW91dCddID09ICcwJykgew0KICAgICAgICAgIGlmIChEaXZpc2lvbkRhdGFMaXN0Lmxlbmd0aCAhPSAwKSB7DQogICAgICAgICAgICBEaXZpc2lvbkRhdGFMaXN0W0RpdmlzaW9uRGF0YUxpc3QubGVuZ3RoIC0gMV1bJ25leHRJZCddID0gZGF0YVtpXVsnaWQnXTsNCiAgICAgICAgICAgIGRhdGFbaV1bJ3ByZUlkJ10gPSBEaXZpc2lvbkRhdGFMaXN0W0RpdmlzaW9uRGF0YUxpc3QubGVuZ3RoIC0gMV1bJ2lkJ107DQogICAgICAgICAgfQ0KICAgICAgICAgIGVsc2UgeyBkYXRhW2ldWydwcmVJZCddID0gIi0xIjsgfQ0KICAgICAgICAgIERpdmlzaW9uRGF0YUxpc3QucHVzaChkYXRhW2ldKTsNCiAgICAgICAgICBsZXQgdGltZSA9IHRvb2xzLnRpbWUyc2Vjb25kcyhkYXRhW2ldWyd0aW1lJ11bMF0pOw0KICAgICAgICAgIGxldCBlbmRUaW1lID0gdG9vbHMudGltZTJzZWNvbmRzKGRhdGFbaV1bJ3RpbWUnXVswXSkgKyBkYXRhW2ldWyd0b3RhbER1cmF0aW9uJ107DQogICAgICAgICAgbGV0IGN4ID0gY3hMaW5lYXIodGltZSk7DQogICAgICAgICAgbGV0IGVuZHggPSBjeExpbmVhcihlbmRUaW1lKTsNCiAgICAgICAgICBsZXQgY29sb3IgPSBtY29sb3JbY29sb3JJbmRleF07DQogICAgICAgICAgaWYoZGF0YVtpXVsnbmFtZSddIT0nVGVzdCcpew0KICAgICAgICAgICAgY29sb3IgPSBtY29sb3JbY29sb3JJbmRleF07DQogICAgICAgICAgICBjb2xvckluZGV4Kys7DQogICAgICAgICAgfQ0KICAgICAgICAgIGVsc2V7DQogICAgICAgICAgICBjb2xvciA9InJnYigyNTAsIDE5OSwgODgpIjsNCiAgICAgICAgICB9DQogICAgICAgICAgLy8gX3RoaXMuY29sb3JNYXBbZGF0YVtpXVsnaWQnXV0gPSBjb2xvckluZGV4ICUgY29sb3IubGVuZ3RoOw0KICAgICAgICAgIF90aGlzLmRyYXdSZWN0KHJvb3RPcmlMaW5lRywgY3ggLSA1LCBoZWlnaHQgLyAyIC0gNSwgMTAsIDEwLCBoZWlnaHQgLyAyLCAiZGl2aXNpb25fIiArIGRhdGFbaV1bImlkIl0sICJyb290ZGl2aXNpb25MaW5lIiwgInJnYigyNTAsMjUwLDI1MCkiLCAwLCAnJywgMSkNCiAgICAgICAgICBfdGhpcy5kcmF3UmVjdCh0b290VG9waWNFbnRHLCBjeCwgbWFyZ2luLnRvcCwgZW5keCAtIGN4LCBoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbSwgaGVpZ2h0IC8gMiwgInJvb3RFbnRfIiArIGRhdGFbaV1bJ2lkJ10sICJyb290RW50Iixjb2xvciAsIDIsICJyZ2IoMTUwLDE1MCwxNTApIiwgMC44KQ0KICAgICAgICB9DQogICAgICB9DQogICAgICBEaXZpc2lvbkRhdGFMaXN0W0RpdmlzaW9uRGF0YUxpc3QubGVuZ3RoIC0gMV1bJ25leHRJZCddID0gIi0xIjsNCiAgICAgIF90aGlzLnJvb3REaXZpc2lvbkRhdGFMaXN0ID0gRGl2aXNpb25EYXRhTGlzdDsNCg0KICAgICAgLy8gcm9vdE9yaUxpbmVHLmFwcGVuZCgiZWxsaXBzZSIpDQogICAgICAvLyAuYXR0cigiY3giLDUwKQ0KICAgICAgLy8gLmF0dHIoImN5IixoZWlnaHQvMikNCiAgICAgIC8vIC5hdHRyKCJyeCIsNTApDQogICAgICAvLyAuYXR0cigicnkiLGhlaWdodC8yKQ0KICAgICAgLy8gLmF0dHIoImZpbGwiLGNvbG9yWzNdKQ0KICAgICAgLy8gLmF0dHIoInN0cm9rZSIsIGNvbG9yWzNdKQ0KDQogICAgICAvLyAuYXR0cigic3Ryb2tlLXdpZHRoIiwgIjVweCIpOw0KICAgICAgLy8gY29uc29sZS5sb2coZGF0YSkNCiAgICAgIC8vIHRoaXMuJGJ1cy4kZW1pdCgiZ2V0RGF0YSIsZGF0YSkNCiAgICB9LA0KICAgIGRyYXdSZWN0KHN2ZywgeCwgeSwgdywgaCwgcngsIGlkTmFtZSwgY2xhc3NOYW1lLCBmaWxsLCBzdHJva2VXaWR0aCwgc3Ryb2tlLCBvcGFjaXR5KSB7DQogICAgICBjb25zdCBfdGhpcyA9IHRoaXM7DQogICAgICBzdmcuYXBwZW5kKCJyZWN0IikNCiAgICAgICAgLmF0dHIoIngiLCB4KQ0KICAgICAgICAuYXR0cigieSIsIHkpDQogICAgICAgIC5hdHRyKCJpZCIsIGlkTmFtZSkNCiAgICAgICAgLmF0dHIoImNsYXNzIiwgY2xhc3NOYW1lKQ0KICAgICAgICAuYXR0cigib3BhY2l0eSIsIG9wYWNpdHkpDQogICAgICAgIC5hdHRyKCJ3aWR0aCIsIHcpDQogICAgICAgIC5hdHRyKCJoZWlnaHQiLCBoKQ0KICAgICAgICAuYXR0cigiZmlsbCIsIGZpbGwpDQogICAgICAgIC5hdHRyKCJyeCIsIHJ4KQ0KICAgICAgICAuYXR0cigic3Ryb2tlIiwgc3Ryb2tlKS8vInJnYigxNTAsMTUwLDE1MCkiKQ0KICAgICAgICAuYXR0cigic3Ryb2tlLXdpZHRoIiwgc3Ryb2tlV2lkdGgpDQogICAgICAgIC5vbigibW91c2Vkb3duIiwgZnVuY3Rpb24gKGQpIHsNCiAgICAgICAgICBfdGhpcy5zZWxlY3RSZWN0SWQgPSBpZE5hbWUuc3BsaXQoIl8iKVsxXSAvL2QzLnNlbGVjdCh0aGlzKS5hdHRyKCJpZCIpOw0KICAgICAgICAgIGlmIChkMy5zZWxlY3QodGhpcykuYXR0cigiY2xhc3MiKSA9PSAicm9vdGRpdmlzaW9uTGluZSIpIHsNCiAgICAgICAgICAgIF90aGlzLnNlbGVjdFJlY3RDbGFzcyA9ICJyb290RW50IjsNCiAgICAgICAgICAgIF90aGlzLm1vdmVMaW5lV2lkdGggPSBfdGhpcy5yb290VG9waWNMaW5lV2lkdGg7DQogICAgICAgICAgICBfdGhpcy5EaXZpc2lvbkRhdGFMaXN0ID0gX3RoaXMucm9vdERpdmlzaW9uRGF0YUxpc3Q7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdFRvcGljTGluZVN2ZycpLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIF90aGlzLm1vdmVSZWN0KTsgLy8g55uR5ZCs54K55Ye75LqL5Lu2DQogICAgICAgICAgfQ0KICAgICAgICAgIGVsc2UgaWYgKGQzLnNlbGVjdCh0aGlzKS5hdHRyKCJjbGFzcyIpID09ICJlbnRkaXZpc2lvbkxpbmUiKSB7DQogICAgICAgICAgICBfdGhpcy5zZWxlY3RSZWN0Q2xhc3MgPSAiZWRpdEVudCI7DQogICAgICAgICAgICBfdGhpcy5tb3ZlTGluZVdpZHRoID0gX3RoaXMuZW50TGluZVdpZHRoOw0KICAgICAgICAgICAgX3RoaXMuRGl2aXNpb25EYXRhTGlzdCA9IF90aGlzLmVudERpdmlzaW9uRGF0YUxpc3Q7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEVudCcpLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIF90aGlzLm1vdmVSZWN0KTsgLy8g55uR5ZCs54K55Ye75LqL5Lu2DQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAub24oIm1vdXNldXAiLCBmdW5jdGlvbiAoZCkgew0KICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290VG9waWNMaW5lU3ZnJykucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgX3RoaXMubW92ZVJlY3QpOyAvLyANCiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdEVudCcpLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIF90aGlzLm1vdmVSZWN0KTsgLy8gDQogICAgICAgICAgLy8gX3RoaXMuJGJ1cy4kZW1pdCgiZ3JhcGhEYXRhIiwgX3RoaXMuZGF0YSk7DQoNCiAgICAgICAgICAvLyBfdGhpcy4kYnVzLiRlbWl0KCJ0cmVlRGF0YSIsIF90aGlzLnRyZWVEYXRhKTsNCiAgICAgICAgfSkNCiAgICB9LA0KICAgIG1vdmVSZWN0KGUpIHsNCiAgICAgIGNvbnN0IF90aGlzID0gdGhpczsNCiAgICAgIGxldCBzZWxlY3RSZWN0ID0gX3RoaXMuRGl2aXNpb25EYXRhTGlzdC5maW5kKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkWydpZCddID09IF90aGlzLnNlbGVjdFJlY3RJZDsgfSkvL+WPs+i+ueeahHJlY3QNCiAgICAgIGxldCBwcmVJZCA9IHNlbGVjdFJlY3RbJ3ByZUlkJ107Ly/lt6bovrnnmoRyZWN0DQogICAgICBsZXQgbmV4dElkID0gc2VsZWN0UmVjdFsnbmV4dElkJ107Ly/lj7PovrnnmoTlj7PovrlyZWN0DQogICAgICBsZXQgcmVjdENsYXNzID0gX3RoaXMuc2VsZWN0UmVjdENsYXNzOw0KICAgICAgbGV0IHByZXggPSAwOw0KICAgICAgaWYgKHByZUlkICE9ICctMScpIHsNCiAgICAgICAgcHJleCA9IGQzLnNlbGVjdCgiIyIgKyByZWN0Q2xhc3MgKyAiXyIgKyBwcmVJZCkuYXR0cigieCIpDQogICAgICAgIGQzLnNlbGVjdCgiIyIgKyByZWN0Q2xhc3MgKyAiXyIgKyBwcmVJZCkNCiAgICAgICAgICAuYXR0cigid2lkdGgiLCBmdW5jdGlvbiAoZCkgew0KICAgICAgICAgICAgcmV0dXJuIGUub2Zmc2V0WCAtIHByZXg7DQogICAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIGxldCBuZXh0WCA9IDEwMDsNCiAgICAgIGlmIChuZXh0SWQgPT0gJy0xJykgew0KICAgICAgICBuZXh0WCA9IF90aGlzLm1vdmVMaW5lV2lkdGg7DQogICAgICB9DQogICAgICBlbHNlIHsNCiAgICAgICAgbmV4dFggPSBkMy5zZWxlY3QoIiMiICsgcmVjdENsYXNzICsgIl8iICsgbmV4dElkKS5hdHRyKCJ4Iik7DQogICAgICB9DQogICAgICBkMy5zZWxlY3QoIiMiICsgcmVjdENsYXNzICsgIl8iICsgX3RoaXMuc2VsZWN0UmVjdElkKQ0KICAgICAgICAuYXR0cigid2lkdGgiLCBmdW5jdGlvbiAoZCkgew0KICAgICAgICAgIHJldHVybiBuZXh0WCAtIGUub2Zmc2V0WDsNCiAgICAgICAgfSkNCiAgICAgICAgLmF0dHIoIngiLCBlLm9mZnNldFgpDQogICAgICBkMy5zZWxlY3QoIiNkaXZpc2lvbl8iICsgX3RoaXMuc2VsZWN0UmVjdElkKQ0KICAgICAgICAuYXR0cigieCIsIGUub2Zmc2V0WCAtIDUpDQoNCiAgICAgIGlmICgoZS5vZmZzZXRYID4gKF90aGlzLnJvb3RUb3BpY0xpbmVXaWR0aCkpIHx8IChlLm9mZnNldFggPCAoMCkpIHx8IChlLm9mZnNldFkgPiAoX3RoaXMucm9vdFRvcGljTGluZUhlaWdodCkpIHx8IChlLm9mZnNldFkgPCAoMCkpKSB7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290VG9waWNMaW5lU3ZnJykucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgX3RoaXMubW92ZVJlY3QpOyAvLyANCiAgICAgIH0NCiAgICB9LA0KICAgIGRyYXdUeHQoc3ZnLCB0eCwgdHksIHR4dHMsIGZpbGwsIHNpemUsaWROYW1lKSB7DQogICAgICBzdmcuYXBwZW5kKCJ0ZXh0IikNCiAgICAgICAgLmF0dHIoInkiLCB0eSkNCiAgICAgICAgLmF0dHIoIngiLCB0eCkNCiAgICAgICAgLmF0dHIoImlkIixpZE5hbWUpDQogICAgICAgIC5hdHRyKCJmaWxsIiwgZmlsbCkNCiAgICAgICAgLmF0dHIoImZvbnQtc2l6ZSIsIHNpemUpDQogICAgICAgIC50ZXh0KHR4dHMpDQogICAgICAgIA0KICAgICAgICBsZXQgdGV4dEFyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZE5hbWUpLmdldEJCb3goKTsNCiAgICAgIHJldHVybiB0ZXh0QXJlYTsNCiAgICAgICAgLy8gLnN0eWxlKCJ0ZXh0LWFuY2hvciIsIGFuY2hvcikvLyJtaWRkbGUiKQ0KICAgICAgICAvLyAuYXR0cigidHJhbnNmb3JtIiwgYHJvdGF0ZSgke3JvYXR9ICR7dHh9ICR7dHl9KWApOw0KICAgIH0sDQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdmFyIF90aGlzID0gdGhpczsNCiAgICB0aGlzLiRidXMuJG9uKCdncmFwaERhdGEnLCAodmFsKSA9PiB7DQogICAgICBfdGhpcy5kYXRhID0gdmFsOw0KICAgICAgbGV0IGtldFRleHQgPSBbXTsNCiAgICAgIGZvcihsZXQgaT0wO2k8X3RoaXMuZGF0YS5sZW5ndGg7aSsrKXsNCiAgICAgICAgbGV0IG5hbWVzID0gX3RoaXMuZGF0YVtpXVsnbmFtZSddLnNwbGl0KCIgIik7DQogICAgICAgIGZvcihsZXQgbiBpbiBuYW1lcyl7DQogICAgICAgICAga2V0VGV4dC5wdXNoKG5hbWVzW25dKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgX3RoaXMua2V0VGV4dCA9IGtldFRleHQ7DQogICAgICBjb25zb2xlLmxvZygiMTIzMjEzMjEzMjEzMTIzMTIiLF90aGlzLmtldFRleHQpDQogICAgICBfdGhpcy5kcmF3cm9vdFRvcGljTGluZSgpOw0KICAgIH0pOw0KDQogICAgdGhpcy4kYnVzLiRvbigncmVsRGF0YScsICh2YWwpID0+IHsNCiAgICAgIF90aGlzLnJlbERhdGEgPSB2YWw7DQogICAgfSk7DQogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgX3RoaXMudmlkZW9XaWR0aCA9IHRoaXMuJHJlZnMudmlkZW9EaXYub2Zmc2V0V2lkdGgNCiAgICAgIF90aGlzLnZpZGVvSGVpZ2h0ID0gdGhpcy4kcmVmcy52aWRlb0Rpdi5vZmZzZXRIZWlnaHQNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMudmlkZW9EaXYub2Zmc2V0V2lkdGgpDQogICAgfSkNCiAgICAvLyBsZXQgc2NlbmVMaXZpbmcgPSBjcmVhdGUuU2NlbmUoKTsNCiAgICAvLyBsZXQgc2NlbmVUZWFjaGluZyA9IGNyZWF0ZS5TY2VuZSgpOw0KDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdmFyIF90aGlzID0gdGhpcw0KICB9DQp9IA0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/Video","sourcesContent":["<!-- eslint-disable no-unused-vars -->\r\n<!-- eslint-disable no-unused-vars -->\r\n\r\n<template>\r\n  <div class=\"video\" ref=\"videoDiv\">\r\n\r\n    <!-- <div class=\"panelHead\"></div> -->\r\n    <div class=\"perVideo\">\r\n      <VideoPlay v-show=\"true\" :timeDot=\"timeDot\" @videoTime=\"getVideoTime\" :videoUrl=\"videoUrl\" :videoCover=\"videoCover\"\r\n        :width=\"videoWidth\" :height=\"videoHeight\" :autoplay=\"true\" :controls=\"true\" :loop=\"false\" :muted=\"false\"\r\n        preload=\"auto\" :showPlay=\"true\" :playWidth=\"96\" zoom=\"cotain\" />\r\n      <!-- <video class=\"perVideo\" ref=\"video\"   :src=\"url\"></video> -->\r\n    </div>\r\n    <div id=\"rootTopicLine\" ref=\"rootTopicLine\">\r\n      <div id=\"progressBar\" ref=\"progressBar\" @click=\"processBarCli\"></div>\r\n    </div>\r\n    <div id=\"videoScript\" ref=\"videoScript\">\r\n      <!-- <div id=\"progressBar\" ref=\"progressBar\" @click=\"processBarCli\"></div> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\n\r\nimport * as d3 from 'd3'\r\nimport { onMounted, ref } from 'vue';\r\nimport filenames from \"@/utils/fileName\";\r\nimport domtoimage from 'dom-to-image';\r\nimport VideoPlay from '@/components/VideoPlay';\r\nimport tools from \"@/utils/tools.js\";\r\nimport scriptsData from '@/assets/json/case1scriptsData.json'\r\n\r\n//场景元素div\r\nexport default {\r\n  props: [\"timeDur\"],\r\n  components: {\r\n    VideoPlay\r\n  },\r\n  data() {\r\n    return {\r\n      scriptsData:scriptsData,\r\n      scriptsText:[],\r\n      ketText:[],\r\n      videoWidth: 100,\r\n      videoHeight: 100,\r\n      rootTopicLineWidth:100,\r\n      rootTopicLineHeight:100,\r\n      data: '',\r\n      relData: '',\r\n      timeDot: 0,\r\n      videoDuration: 482,\r\n      publicPath: process.env.BASE_URL,\r\n      vertexShader: '',\r\n      // url:\"../videos/[2.1.1]--机器数及特点视频.mp4\",\r\n      url: \"../videos/case1.mp4\",\r\n      videoUrl: require('@/assets/videos/case1.mp4'),\r\n      // 视频封面支持https或require本地地址\r\n      videoCover: require('@/assets/img/tt.jpg'),\r\n\r\n      windowWidth: document.documentElement.clientWidth, //实时屏幕宽度\r\n      windowHeight: document.documentElement.clientHeight, //实时屏幕高度\r\n      colorMap: {},\r\n      margin: { top: 5, right: 5, bottom: 5, left: 5 },\r\n      // mcolor: [\r\n      //   \"rgb(255,60,60)\",\r\n      //   \"rgb(155,20,100)\",\r\n      //   \"rgb(255,83,255)\",\r\n      //   \"rgb(200,100,50)\",\r\n      //   \"rgb(235,135,162)\",\r\n      //   \"rgb(200,200,102)\",\r\n      //   \"rgb(255,178,101)\",\r\n      //   \"rgb(63,151,134)\",\r\n      //   \"rgb(83,155,255)\",\r\n      //   \"rgb(50,200,120)\",\r\n      //   \"rgb(2,50,200)\",\r\n      //   \"rgb(0,122,244)\",\r\n      //   \"rgb(150,122,244)\",\r\n      //   \"rgb(168,168,255)\",\r\n      //   \"rgb(200,200,200)\",\r\n      // ],\r\n      mcolor: [\r\n        \"rgb(91, 107, 255)\",\r\n        \"rgb(6, 214, 160)\",\r\n        \"rgb(255, 120, 90)\",\r\n        \"rgb(125, 98, 211)\",\r\n        \"rgb(255, 113, 212)\",\r\n        \"rgb(112, 214, 255)\",\r\n        \"rgb(255, 159, 28)\",\r\n        \"rgb(255, 77, 109)\",\r\n      ],\r\n      mLightcolor: [\r\n        \"#ff9c9c\",\r\n        \"#cc88b0\",\r\n        \"#ffa8ff\",\r\n        \"#e3b097\",\r\n        \"#f4c3d0\",\r\n        \"#f4f4d0\",\r\n        \"#ffd8b1\",\r\n        \"#9ecac2\",\r\n        \"#a8ccff\",\r\n        \"#97e3ba\",\r\n        \"#6f8be0\",\r\n        \"rgb(0,122,244)\",\r\n        \"#b6a2f7\",\r\n        \"rgb(168,168,255)\",\r\n        \"rgb(200,200,200)\",\r\n      ],\r\n      DivisionDataList: [],\r\n      rootDivisionDataList: [],\r\n      entDivisionDataList: [],\r\n    };\r\n  },\r\n  watch: {\r\n    timeDur(val) {\r\n      this.timeDot = tools.time2seconds(val[0]);\r\n    },\r\n    scriptsText(val){\r\n      this.drawScript();\r\n    }\r\n  },\r\n  methods: {\r\n    getVideoTime(val) {\r\n      const _this = this;\r\n      let margin = _this.margin;\r\n      let width = this.$refs.progressBar.offsetWidth;\r\n      let timeLinear = d3.scaleLinear([0, _this.videoDuration], [0, width]);\r\n      let mid = timeLinear(val)/width*100;\r\n      _this.addScript(val);\r\n      d3.select(\"#progressBar\")\r\n      .attr(\"style\",\"background: linear-gradient(90deg, rgb(200, 200, 200) \"+mid+\"%,rgb(244, 244, 244) \"+mid+\"%) !important\")\r\n      this.$emit(\"videoTime\", val);\r\n    },\r\n    processBarCli(e){\r\n      console.log(e);\r\n      const _this = this;\r\n      let x = e.layerX; \r\n      let width = this.$refs.progressBar.offsetWidth;\r\n      let timeLinear = d3.scaleLinear([0, width], [0, _this.videoDuration]);\r\n      this.timeDot = timeLinear(x);\r\n    },\r\n    addScript(timeDot){\r\n      const _this = this;\r\n      let scriptsData = _this.scriptsData;\r\n      for(let t in scriptsData){\r\n        let timeDur = scriptsData[t]['time'];\r\n        let sTime = tools.time2seconds(timeDur[0]);\r\n        let eTime = tools.time2seconds(timeDur[1]);\r\n        if((timeDot>sTime)&&(timeDot<eTime)){\r\n          _this.scriptsText = scriptsData[t]['text']\r\n        }\r\n\r\n      }\r\n    },\r\n    drawScript(){\r\n      const _this = this;\r\n      let txts = _this.scriptsText;\r\n      let margin = _this.margin; \r\n      let ketText = _this.ketText;\r\n      let width = this.$refs.videoScript.offsetWidth - margin.left - margin.right;\r\n      let height = this.$refs.videoScript.offsetHeight - margin.top - margin.bottom;\r\n      d3.select(\"#videoScript\").select(\"svg\").remove();\r\n      var svg = d3.select(\"#videoScript\").append(\"svg\")\r\n        .attr(\"id\", \"videoScriptSvg\")\r\n        .attr(\"width\", width)\r\n        .attr(\"height\", height);\r\n      let tx = 30;\r\n      let ty = 50;\r\n      let lay = 0;\r\n      for(let i =0;i<txts.length;i++){\r\n        let name = txts[i];\r\n        let w = name.length *10;\r\n        let h = 20;\r\n        let rx=5;\r\n        let ry=5;\r\n        // let color = colorMap[ids[i]];\r\n        // _this.drawRect(g, tx, ty, w, h, rx, ry, color, 0.2, color)\r\n        let textColor = \"black\";\r\n        let stopList = [\"of\",\"the\",\"and\",\"be\",\"two\",\"x\",\"y\",\"z\"];\r\n        if((ketText.indexOf(name)!=-1)&&(stopList.indexOf(name)==-1)){\r\n          textColor = \"red\";\r\n        }\r\n        let svgArea = _this.drawTxt(svg, tx, ty, name, textColor, 24,`txts${i}`);\r\n        console.log(svgArea)\r\n        tx +=svgArea.width+5;\r\n        if(tx>(width-200)){\r\n          let tranx = (width-tx)/2;\r\n          for(let j = i;j>=lay;j--){\r\n            d3.select(`#txts${j}`).attr(\"transform\",`translate(${tranx},0)`)\r\n          }\r\n          lay = i;\r\n          tx=30;\r\n          ty+=30;\r\n        }\r\n        if(i==txts.length-1){\r\n          let tranx = (width-tx)/2;\r\n          for(let j = i;j>=lay;j--){\r\n            d3.select(`#txts${j}`).attr(\"transform\",`translate(${tranx},0)`)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    drawrootTopicLine() {\r\n      const _this = this;\r\n      const margin = _this.margin;\r\n      const mcolor = _this.mcolor;\r\n\r\n      let width = this.$refs.rootTopicLine.offsetWidth - margin.left - margin.right;\r\n      let height = this.$refs.rootTopicLine.offsetHeight - margin.top - margin.bottom;\r\n      _this.rootTopicLineWidth = width;\r\n      _this.rootTopicLineHeight = height;\r\n      console.log(width,height)\r\n      d3.select(\"#rootTopicLine\").select(\"svg\").remove();\r\n      var svg = d3.select(\"#rootTopicLine\").append(\"svg\")\r\n        .attr(\"id\", \"rootTopicLineSvg\")\r\n        .attr(\"width\", width)\r\n        .attr(\"height\", height);\r\n\r\n      let groups = svg.append(\"g\").attr(\"id\", \"groups\").attr(\"width\", width).attr(\"height\", height);\r\n      let tootTopicEntG = groups.append(\"g\").attr(\"id\", \"tootTopicEntG\").attr(\"width\", width).attr(\"height\", height);\r\n      let rootOriLineG = groups.append(\"g\").attr(\"id\", \"rootOriLineG\").attr(\"width\", width).attr(\"height\", height);\r\n\r\n      rootOriLineG.append(\"line\")\r\n        .attr(\"x1\", 0)\r\n        .attr(\"y1\", height / 2)\r\n        .attr(\"x2\", width)\r\n        .attr(\"y2\", height / 2)\r\n        .attr(\"stroke\", \"rgb(200,200,200)\")\r\n        .attr(\"stroke-width\", \"5px\");\r\n\r\n      let cxLinear = d3.scaleLinear([0, _this.videoDuration], [margin.left, width])\r\n\r\n      let data = tools.deepClone(_this.data);\r\n      let DivisionDataList = [];\r\n      let colorIndex = 0;\r\n      for (let i = 0; i < data.length; i++) {\r\n        if (data[i]['layout'] == '0') {\r\n          if (DivisionDataList.length != 0) {\r\n            DivisionDataList[DivisionDataList.length - 1]['nextId'] = data[i]['id'];\r\n            data[i]['preId'] = DivisionDataList[DivisionDataList.length - 1]['id'];\r\n          }\r\n          else { data[i]['preId'] = \"-1\"; }\r\n          DivisionDataList.push(data[i]);\r\n          let time = tools.time2seconds(data[i]['time'][0]);\r\n          let endTime = tools.time2seconds(data[i]['time'][0]) + data[i]['totalDuration'];\r\n          let cx = cxLinear(time);\r\n          let endx = cxLinear(endTime);\r\n          let color = mcolor[colorIndex];\r\n          if(data[i]['name']!='Test'){\r\n            color = mcolor[colorIndex];\r\n            colorIndex++;\r\n          }\r\n          else{\r\n            color =\"rgb(250, 199, 88)\";\r\n          }\r\n          // _this.colorMap[data[i]['id']] = colorIndex % color.length;\r\n          _this.drawRect(rootOriLineG, cx - 5, height / 2 - 5, 10, 10, height / 2, \"division_\" + data[i][\"id\"], \"rootdivisionLine\", \"rgb(250,250,250)\", 0, '', 1)\r\n          _this.drawRect(tootTopicEntG, cx, margin.top, endx - cx, height - margin.top - margin.bottom, height / 2, \"rootEnt_\" + data[i]['id'], \"rootEnt\",color , 2, \"rgb(150,150,150)\", 0.8)\r\n        }\r\n      }\r\n      DivisionDataList[DivisionDataList.length - 1]['nextId'] = \"-1\";\r\n      _this.rootDivisionDataList = DivisionDataList;\r\n\r\n      // rootOriLineG.append(\"ellipse\")\r\n      // .attr(\"cx\",50)\r\n      // .attr(\"cy\",height/2)\r\n      // .attr(\"rx\",50)\r\n      // .attr(\"ry\",height/2)\r\n      // .attr(\"fill\",color[3])\r\n      // .attr(\"stroke\", color[3])\r\n\r\n      // .attr(\"stroke-width\", \"5px\");\r\n      // console.log(data)\r\n      // this.$bus.$emit(\"getData\",data)\r\n    },\r\n    drawRect(svg, x, y, w, h, rx, idName, className, fill, strokeWidth, stroke, opacity) {\r\n      const _this = this;\r\n      svg.append(\"rect\")\r\n        .attr(\"x\", x)\r\n        .attr(\"y\", y)\r\n        .attr(\"id\", idName)\r\n        .attr(\"class\", className)\r\n        .attr(\"opacity\", opacity)\r\n        .attr(\"width\", w)\r\n        .attr(\"height\", h)\r\n        .attr(\"fill\", fill)\r\n        .attr(\"rx\", rx)\r\n        .attr(\"stroke\", stroke)//\"rgb(150,150,150)\")\r\n        .attr(\"stroke-width\", strokeWidth)\r\n        .on(\"mousedown\", function (d) {\r\n          _this.selectRectId = idName.split(\"_\")[1] //d3.select(this).attr(\"id\");\r\n          if (d3.select(this).attr(\"class\") == \"rootdivisionLine\") {\r\n            _this.selectRectClass = \"rootEnt\";\r\n            _this.moveLineWidth = _this.rootTopicLineWidth;\r\n            _this.DivisionDataList = _this.rootDivisionDataList;\r\n            document.getElementById('rootTopicLineSvg').addEventListener(\"mousemove\", _this.moveRect); // 监听点击事件\r\n          }\r\n          else if (d3.select(this).attr(\"class\") == \"entdivisionLine\") {\r\n            _this.selectRectClass = \"editEnt\";\r\n            _this.moveLineWidth = _this.entLineWidth;\r\n            _this.DivisionDataList = _this.entDivisionDataList;\r\n            document.getElementById('editEnt').addEventListener(\"mousemove\", _this.moveRect); // 监听点击事件\r\n          }\r\n        })\r\n        .on(\"mouseup\", function (d) {\r\n          document.getElementById('rootTopicLineSvg').removeEventListener(\"mousemove\", _this.moveRect); // \r\n          document.getElementById('editEnt').removeEventListener(\"mousemove\", _this.moveRect); // \r\n          // _this.$bus.$emit(\"graphData\", _this.data);\r\n\r\n          // _this.$bus.$emit(\"treeData\", _this.treeData);\r\n        })\r\n    },\r\n    moveRect(e) {\r\n      const _this = this;\r\n      let selectRect = _this.DivisionDataList.find(function (d) { return d['id'] == _this.selectRectId; })//右边的rect\r\n      let preId = selectRect['preId'];//左边的rect\r\n      let nextId = selectRect['nextId'];//右边的右边rect\r\n      let rectClass = _this.selectRectClass;\r\n      let prex = 0;\r\n      if (preId != '-1') {\r\n        prex = d3.select(\"#\" + rectClass + \"_\" + preId).attr(\"x\")\r\n        d3.select(\"#\" + rectClass + \"_\" + preId)\r\n          .attr(\"width\", function (d) {\r\n            return e.offsetX - prex;\r\n          })\r\n      }\r\n      let nextX = 100;\r\n      if (nextId == '-1') {\r\n        nextX = _this.moveLineWidth;\r\n      }\r\n      else {\r\n        nextX = d3.select(\"#\" + rectClass + \"_\" + nextId).attr(\"x\");\r\n      }\r\n      d3.select(\"#\" + rectClass + \"_\" + _this.selectRectId)\r\n        .attr(\"width\", function (d) {\r\n          return nextX - e.offsetX;\r\n        })\r\n        .attr(\"x\", e.offsetX)\r\n      d3.select(\"#division_\" + _this.selectRectId)\r\n        .attr(\"x\", e.offsetX - 5)\r\n\r\n      if ((e.offsetX > (_this.rootTopicLineWidth)) || (e.offsetX < (0)) || (e.offsetY > (_this.rootTopicLineHeight)) || (e.offsetY < (0))) {\r\n        document.getElementById('rootTopicLineSvg').removeEventListener(\"mousemove\", _this.moveRect); // \r\n      }\r\n    },\r\n    drawTxt(svg, tx, ty, txts, fill, size,idName) {\r\n      svg.append(\"text\")\r\n        .attr(\"y\", ty)\r\n        .attr(\"x\", tx)\r\n        .attr(\"id\",idName)\r\n        .attr(\"fill\", fill)\r\n        .attr(\"font-size\", size)\r\n        .text(txts)\r\n        \r\n        let textArea = document.getElementById(idName).getBBox();\r\n      return textArea;\r\n        // .style(\"text-anchor\", anchor)//\"middle\")\r\n        // .attr(\"transform\", `rotate(${roat} ${tx} ${ty})`);\r\n    },\r\n  },\r\n  created() {\r\n    var _this = this;\r\n    this.$bus.$on('graphData', (val) => {\r\n      _this.data = val;\r\n      let ketText = [];\r\n      for(let i=0;i<_this.data.length;i++){\r\n        let names = _this.data[i]['name'].split(\" \");\r\n        for(let n in names){\r\n          ketText.push(names[n]);\r\n        }\r\n      }\r\n      _this.ketText = ketText;\r\n      console.log(\"12321321321312312\",_this.ketText)\r\n      _this.drawrootTopicLine();\r\n    });\r\n\r\n    this.$bus.$on('relData', (val) => {\r\n      _this.relData = val;\r\n    });\r\n    this.$nextTick(() => {\r\n      _this.videoWidth = this.$refs.videoDiv.offsetWidth\r\n      _this.videoHeight = this.$refs.videoDiv.offsetHeight\r\n      console.log(this.$refs.videoDiv.offsetWidth)\r\n    })\r\n    // let sceneLiving = create.Scene();\r\n    // let sceneTeaching = create.Scene();\r\n\r\n  },\r\n  mounted() {\r\n    var _this = this\r\n  }\r\n} \r\n</script>\r\n\r\n<style>\r\n@import './index.css';\r\n</style>\r\n"]}]}