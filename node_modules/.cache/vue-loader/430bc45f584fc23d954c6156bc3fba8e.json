{"remainingRequest":"D:\\Cailibuhong\\video2Graph\\video2Graph\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Cailibuhong\\video2Graph\\video2Graph\\src\\components\\Video\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Cailibuhong\\video2Graph\\video2Graph\\src\\components\\Video\\index.vue","mtime":1705377404892},{"path":"D:\\Cailibuhong\\video2Graph\\video2Graph\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1688115046166},{"path":"D:\\Cailibuhong\\video2Graph\\video2Graph\\node_modules\\babel-loader\\lib\\index.js","mtime":1688115046651},{"path":"D:\\Cailibuhong\\video2Graph\\video2Graph\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1688115046166},{"path":"D:\\Cailibuhong\\video2Graph\\video2Graph\\node_modules\\vue-loader\\lib\\index.js","mtime":1688115046800}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJw0KaW1wb3J0IHsgb25Nb3VudGVkLCByZWYgfSBmcm9tICd2dWUnOw0KaW1wb3J0IGRvbXRvaW1hZ2UgZnJvbSAnZG9tLXRvLWltYWdlJzsNCmltcG9ydCBWaWRlb1BsYXkgZnJvbSAnQC9jb21wb25lbnRzL1ZpZGVvUGxheSc7DQppbXBvcnQgdG9vbHMgZnJvbSAiQC91dGlscy90b29scy5qcyI7DQovLyBpbXBvcnQgc2NyaXB0c0RhdGEgZnJvbSAnQC9hc3NldHMvanNvbi9jYXNlMXNjcmlwdHNEYXRhLmpzb24nDQppbXBvcnQgc2NyaXB0c0RhdGEgZnJvbSAnQC9hc3NldHMvanNvbi9jNS5qc29uJw0KDQovL+WcuuaZr+WFg+e0oGRpdg0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogWyJ0aW1lRHVyIl0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBWaWRlb1BsYXkNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgc2NyaXB0c0RhdGE6IHNjcmlwdHNEYXRhLA0KICAgICAgc2NyaXB0c1RleHQ6IFtdLA0KICAgICAgcmVjb2duaXplVGV4dDpbXSwNCiAgICAgIGtldFRleHQ6IFtdLA0KICAgICAgdmlkZW9XaWR0aDogMTAwLA0KICAgICAgdmlkZW9IZWlnaHQ6IDEwMCwNCiAgICAgIHJvb3RUb3BpY0xpbmVXaWR0aDogMTAwLA0KICAgICAgcm9vdFRvcGljTGluZUhlaWdodDogMTAwLA0KICAgICAgZGF0YTogJycsDQogICAgICByZWxEYXRhOiAnJywNCiAgICAgIHRpbWVEb3Q6IDAsDQogICAgICAvLyB2aWRlb0R1cmF0aW9uOiAzNzgsLy9jNg0KICAgICAgLy8gdmlkZW9EdXJhdGlvbjogNDM4LC8vYzUNCiAgICAgIHZpZGVvRHVyYXRpb246IDY3MiwNCiAgICAgIC8vIHZpZGVvRHVyYXRpb246IDU1MCwNCiAgICAgIC8vIHZpZGVvRHVyYXRpb246IDY2OCwNCiAgICAgIHRpbWVOb3c6ICcxJywNCiAgICAgIG92ZXJUaW1lOiAnMScsDQogICAgICBwdWJsaWNQYXRoOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwNCiAgICAgIHZlcnRleFNoYWRlcjogJycsDQogICAgICAvLyB1cmw6Ii4uL3ZpZGVvcy9bMi4xLjFdLS3mnLrlmajmlbDlj4rnibnngrnop4bpopEubXA0IiwNCiAgICAgIC8vIHVybDogIi4uL3ZpZGVvcy9pbmRleC5tcDQiLA0KICAgICAgdmlkZW9VcmwxOnJlcXVpcmUoJ0AvYXNzZXRzL2ltZy/mmoLlgZwucG5nJyksDQogICAgICB2aWRlb1VybDI6cmVxdWlyZSgnQC9hc3NldHMvaW1nL+W/q+i/my5wbmcnKSwNCiAgICAgIHZpZGVvVXJsMzpyZXF1aXJlKCdAL2Fzc2V0cy9pbWcv6Z+z6YePLnBuZycpLA0KICAgICAgdmlkZW9Vcmw0OnJlcXVpcmUoJ0AvYXNzZXRzL2ltZy/lhajlsY8ucG5nJyksDQogICAgICB2aWRlb1VybDU6cmVxdWlyZSgnQC9hc3NldHMvaW1nL2FkZFRvcGljLnBuZycpLA0KICAgICAgdmlkZW9Vcmw6IHJlcXVpcmUoJ0AvYXNzZXRzL3ZpZGVvcy9jYXNlMy5tcDQnKSwNCiAgICAgIC8vIHZpZGVvVXJsOiByZXF1aXJlKCdAL2Fzc2V0cy92aWRlb3MvY2FzZTIubXA0JyksDQogICAgICAvLyDop4bpopHlsIHpnaLmlK/mjIFodHRwc+aIlnJlcXVpcmXmnKzlnLDlnLDlnYANCiAgICAgIHZpZGVvQ292ZXI6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltZy90dC5qcGcnKSwNCg0KICAgICAgd2luZG93V2lkdGg6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCwgLy/lrp7ml7blsY/luZXlrr3luqYNCiAgICAgIHdpbmRvd0hlaWdodDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCwgLy/lrp7ml7blsY/luZXpq5jluqYNCiAgICAgIGNvbG9yTWFwOiB7fSwNCiAgICAgIG1hcmdpbjogeyB0b3A6IDUsIHJpZ2h0OiA1LCBib3R0b206IDUsIGxlZnQ6IDUgfSwNCiAgICAgIC8vIG1jb2xvcjogWw0KICAgICAgLy8gICAicmdiKDI1NSw2MCw2MCkiLA0KICAgICAgLy8gICAicmdiKDE1NSwyMCwxMDApIiwNCiAgICAgIC8vICAgInJnYigyNTUsODMsMjU1KSIsDQogICAgICAvLyAgICJyZ2IoMjAwLDEwMCw1MCkiLA0KICAgICAgLy8gICAicmdiKDIzNSwxMzUsMTYyKSIsDQogICAgICAvLyAgICJyZ2IoMjAwLDIwMCwxMDIpIiwNCiAgICAgIC8vICAgInJnYigyNTUsMTc4LDEwMSkiLA0KICAgICAgLy8gICAicmdiKDYzLDE1MSwxMzQpIiwNCiAgICAgIC8vICAgInJnYig4MywxNTUsMjU1KSIsDQogICAgICAvLyAgICJyZ2IoNTAsMjAwLDEyMCkiLA0KICAgICAgLy8gICAicmdiKDIsNTAsMjAwKSIsDQogICAgICAvLyAgICJyZ2IoMCwxMjIsMjQ0KSIsDQogICAgICAvLyAgICJyZ2IoMTUwLDEyMiwyNDQpIiwNCiAgICAgIC8vICAgInJnYigxNjgsMTY4LDI1NSkiLA0KICAgICAgLy8gICAicmdiKDIwMCwyMDAsMjAwKSIsDQogICAgICAvLyBdLA0KICAgICAgbWNvbG9yOiBbDQogICAgICAgICJyZ2IoMTI1LCA2NiwgMjA2KSIsDQogICAgICAgICJyZ2IoMjQ4LCAxMzQsIDEyNCkiLA0KICAgICAgICAicmdiKDUwLCAxOTgsIDE5MSkiLA0KICAgICAgICAicmdiKDEzNSwgMTI2LCAyNTMpIiwNCiAgICAgICAgInJnYigxOTgsIDEyMSwgMTIzKSIsDQogICAgICAgICJyZ2IoMjUyLCAxNzcsIDQ5KSIsDQogICAgICAgICJyZ2IoMTEyLCAyMDIsIDIyOSkiLA0KICAgICAgICAicmdiKDEyNSwgNjYsIDIwNikiLA0KICAgICAgICAicmdiKDI0OCwgMTM0LCAxMjQpIiwNCiAgICAgICAgInJnYig1MCwgMTk4LCAxOTEpIiwNCiAgICAgICAgInJnYigxMzUsIDEyNiwgMjUzKSIsDQogICAgICAgICJyZ2IoMTk4LCAxMjEsIDEyMykiLA0KICAgICAgICAicmdiKDI1MiwgMTc3LCA0OSkiLA0KICAgICAgICAicmdiKDExMiwgMjAyLCAyMjkpIiwNCiAgICAgIF0sDQogICAgICAvLyBtY29sb3I6IFsNCiAgICAgIC8vICAgInJnYig5MSwgMTA3LCAyNTUpIiwNCiAgICAgIC8vICAgInJnYig2LCAyMTQsIDE2MCkiLA0KICAgICAgLy8gICAicmdiKDI1NSwgMTIwLCA5MCkiLA0KICAgICAgLy8gICAicmdiKDEyNSwgOTgsIDIxMSkiLA0KICAgICAgLy8gICAicmdiKDI1NSwgMTEzLCAyMTIpIiwNCiAgICAgIC8vICAgInJnYigxMTIsIDIxNCwgMjU1KSIsDQogICAgICAvLyAgICJyZ2IoMjU1LCAxNTksIDI4KSIsDQogICAgICAvLyAgICJyZ2IoMjU1LCA3NywgMTA5KSIsDQogICAgICAvLyBdLA0KICAgICAgbUxpZ2h0Y29sb3I6IFsNCiAgICAgICAgIiNmZjljOWMiLA0KICAgICAgICAiI2NjODhiMCIsDQogICAgICAgICIjZmZhOGZmIiwNCiAgICAgICAgIiNlM2IwOTciLA0KICAgICAgICAiI2Y0YzNkMCIsDQogICAgICAgICIjZjRmNGQwIiwNCiAgICAgICAgIiNmZmQ4YjEiLA0KICAgICAgICAiIzllY2FjMiIsDQogICAgICAgICIjYThjY2ZmIiwNCiAgICAgICAgIiM5N2UzYmEiLA0KICAgICAgICAiIzZmOGJlMCIsDQogICAgICAgICJyZ2IoMCwxMjIsMjQ0KSIsDQogICAgICAgICIjYjZhMmY3IiwNCiAgICAgICAgInJnYigxNjgsMTY4LDI1NSkiLA0KICAgICAgICAicmdiKDIwMCwyMDAsMjAwKSIsDQogICAgICBdLA0KICAgICAgRGl2aXNpb25EYXRhTGlzdDogW10sDQogICAgICByb290RGl2aXNpb25EYXRhTGlzdDogW10sDQogICAgICBlbnREaXZpc2lvbkRhdGFMaXN0OiBbXSwNCiAgICAgIHN3aXRjaEw6W10sDQogICAgICBidG5FZGk6ZmFsc2UsDQogICAgICB0aW1lRG90OiIiDQogICAgfTsNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICB0aW1lRHVyKHZhbCkgew0KICAgICAgdGhpcy50aW1lRG90ID0gdG9vbHMudGltZTJzZWNvbmRzKHZhbFswXSk7DQogICAgfSwNCiAgICBzY3JpcHRzVGV4dCh2YWwpIHsNCiAgICAgIHRoaXMuZHJhd1NjcmlwdCgpOw0KICAgIH0sDQogICAgcmVjb2duaXplVGV4dCh2YWwpew0KICAgICAgY29uc29sZS5sb2codmFsKQ0KICAgICAgaWYodmFsWzBdID09IDEpew0KICAgICAgICB0aGlzLnNjcmlwdHNUZXh0ID0gW3ZhbFsxXV0NCiAgICAgIH0NCiAgICAgIGVsc2V7DQogICAgICAgIHRoaXMuYWRkU2NyaXB0KHRoaXMudGltZURvdCkgDQogICAgICB9DQogICAgfSwNCiAgICBzd2l0Y2hMOiB7DQogICAgICBkZWVwOiB0cnVlLA0KICAgICAgaGFuZGxlcih2YWwpIHsNCiAgICAgICAgdGhpcy5idG5FZGkgPSB2YWxbM107DQogICAgICAgIHRoaXMuZHJhd3Jvb3RUb3BpY0xpbmUoKQ0KICAgICAgfQ0KICAgIH0sDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBnZXRWaWRlb1RpbWUodmFsKSB7DQogICAgICBjb25zdCBfdGhpcyA9IHRoaXM7DQogICAgICBfdGhpcy50aW1lTm93ID0gdG9vbHMuc2Vjb25kczJ0aW1lKHZhbC50b0ZpeGVkKDApKTsNCiAgICAgIF90aGlzLm92ZXJUaW1lID0gdG9vbHMuc2Vjb25kczJ0aW1lKF90aGlzLnZpZGVvRHVyYXRpb24pOw0KICAgICAgbGV0IG1hcmdpbiA9IF90aGlzLm1hcmdpbjsNCiAgICAgIGxldCB3aWR0aCA9IHRoaXMuJHJlZnMucHJvZ3Jlc3NCYXIub2Zmc2V0V2lkdGg7DQogICAgICBsZXQgd2lkdGhzID0gJ2NhbGMoMTAwJSAtIDEwcHgpJw0KICAgICAgaWYoX3RoaXMuYnRuRWRpKXsNCiAgICAgICAgd2lkdGgtPTMwDQogICAgICAgIHdpZHRocyA9ICdjYWxjKDEwMCUgLSA0MHB4KScNCiAgICAgIH0NCiAgICAgIGxldCB0aW1lTGluZWFyID0gZDMuc2NhbGVMaW5lYXIoWzAsIF90aGlzLnZpZGVvRHVyYXRpb25dLCBbMCwgd2lkdGhdKTsNCiAgICAgIGxldCBtaWQgPSB0aW1lTGluZWFyKHZhbCkgLyB3aWR0aCAqIDEwMDsNCiAgICAgIC8vIF90aGlzLnRpbWVEb3QgPSB2YWw7DQogICAgICBfdGhpcy5hZGRTY3JpcHQodmFsKTsNCiAgICAgIGQzLnNlbGVjdCgiI3Byb2dyZXNzQmFyIikNCiAgICAgICAgLmF0dHIoInN0eWxlIiwgYGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgcmdiKDIwMCwgMjAwLCAyMDApICR7bWlkfSUscmdiKDI0NCwgMjQ0LCAyNDQpICR7bWlkfSUpICFpbXBvcnRhbnQ7ICB3aWR0aDogJHt3aWR0aHN9YCkNCiAgICAgIHRoaXMuJGVtaXQoInZpZGVvVGltZSIsIHZhbCk7DQogICAgfSwNCiAgICBwcm9jZXNzQmFyQ2xpKGUpIHsNCiAgICAgIGNvbnN0IF90aGlzID0gdGhpczsNCiAgICAgIGxldCB4ID0gZS5sYXllclg7DQogICAgICBsZXQgd2lkdGggPSB0aGlzLiRyZWZzLnByb2dyZXNzQmFyLm9mZnNldFdpZHRoOw0KICAgICAgaWYoX3RoaXMuYnRuRWRpKXsNCiAgICAgICAgd2lkdGgtPTMwDQogICAgICB9DQogICAgICBsZXQgdGltZUxpbmVhciA9IGQzLnNjYWxlTGluZWFyKFswLCB3aWR0aF0sIFswLCBfdGhpcy52aWRlb0R1cmF0aW9uXSk7DQogICAgICB0aGlzLnRpbWVEb3QgPSB0aW1lTGluZWFyKHgpOw0KICAgIH0sDQogICAgYWRkU2NyaXB0KHRpbWVEb3QpIHsNCiAgICAgIGNvbnN0IF90aGlzID0gdGhpczsNCiAgICAgIGxldCBzY3JpcHRzRGF0YSA9IF90aGlzLnNjcmlwdHNEYXRhOw0KICAgICAgZm9yIChsZXQgdCBpbiBzY3JpcHRzRGF0YSkgew0KICAgICAgICBsZXQgdGltZUR1ciA9IHNjcmlwdHNEYXRhW3RdWyd0aW1lJ107DQogICAgICAgIGxldCBzVGltZSA9IHRvb2xzLnRpbWUyc2Vjb25kcyh0aW1lRHVyWzBdKTsNCiAgICAgICAgbGV0IGVUaW1lID0gdG9vbHMudGltZTJzZWNvbmRzKHRpbWVEdXJbMV0pOw0KICAgICAgICBpZiAoKHRpbWVEb3QgPiBzVGltZSkgJiYgKHRpbWVEb3QgPCBlVGltZSkpIHsNCiAgICAgICAgICBfdGhpcy5zY3JpcHRzVGV4dCA9IHNjcmlwdHNEYXRhW3RdWyd0ZXh0J10NCiAgICAgICAgfQ0KDQogICAgICB9DQogICAgfSwNCiAgICBkcmF3U2NyaXB0VXAoKSB7DQogICAgICBsZXQgd2lkdGggPSB0aGlzLiRyZWZzLnZpZGVvU2NyaXB0VXAub2Zmc2V0V2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDsNCiAgICAgIGxldCBoZWlnaHQgPSB0aGlzLiRyZWZzLnZpZGVvU2NyaXB0VXAub2Zmc2V0SGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207DQogICAgICBkMy5zZWxlY3QoIiN2aWRlb1NjcmlwdFVwIikuc2VsZWN0KCJzdmciKS5yZW1vdmUoKTsNCiAgICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoIiN2aWRlb1NjcmlwdFVwIikuYXBwZW5kKCJzdmciKQ0KICAgICAgICAuYXR0cigiaWQiLCAidmlkZW9TY3JpcHRVcFN2ZyIpDQogICAgICAgIC5hdHRyKCJ3aWR0aCIsIHdpZHRoKQ0KICAgICAgICAuYXR0cigiaGVpZ2h0IiwgaGVpZ2h0KTsNCiAgICB9LA0KICAgIGRyYXdTY3JpcHQoKSB7DQogICAgICBjb25zdCBfdGhpcyA9IHRoaXM7DQogICAgICBsZXQgdHh0cyA9IF90aGlzLnNjcmlwdHNUZXh0Ow0KICAgICAgbGV0IG1hcmdpbiA9IF90aGlzLm1hcmdpbjsNCiAgICAgIGxldCBrZXRUZXh0ID0gX3RoaXMua2V0VGV4dDsNCiAgICAgIGxldCB3aWR0aCA9IHRoaXMuJHJlZnMudmlkZW9TY3JpcHQub2Zmc2V0V2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDsNCiAgICAgIGxldCBoZWlnaHQgPSB0aGlzLiRyZWZzLnZpZGVvU2NyaXB0Lm9mZnNldEhlaWdodCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tKzEwOw0KICAgICAgZDMuc2VsZWN0KCIjdmlkZW9TY3JpcHQiKS5zZWxlY3QoInN2ZyIpLnJlbW92ZSgpOw0KICAgICAgdmFyIHN2ZyA9IGQzLnNlbGVjdCgiI3ZpZGVvU2NyaXB0IikuYXBwZW5kKCJzdmciKQ0KICAgICAgICAuYXR0cigiaWQiLCAidmlkZW9TY3JpcHRTdmciKQ0KICAgICAgICAuYXR0cigid2lkdGgiLCB3aWR0aCkNCiAgICAgICAgLmF0dHIoImhlaWdodCIsIGhlaWdodCk7DQogICAgICBsZXQgdHggPSAzMDsNCiAgICAgIGxldCB0eSA9IDUwOw0KICAgICAgbGV0IGxheSA9IDA7DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR4dHMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgbGV0IG5hbWUgPSB0eHRzW2ldOw0KICAgICAgICBsZXQgdyA9IG5hbWUubGVuZ3RoICogMTA7DQogICAgICAgIGxldCBoID0gMjA7DQogICAgICAgIGxldCByeCA9IDU7DQogICAgICAgIGxldCByeSA9IDU7DQogICAgICAgIC8vIGxldCBjb2xvciA9IGNvbG9yTWFwW2lkc1tpXV07DQogICAgICAgIC8vIF90aGlzLmRyYXdSZWN0KGcsIHR4LCB0eSwgdywgaCwgcngsIHJ5LCBjb2xvciwgMC4yLCBjb2xvcikNCiAgICAgICAgbGV0IHRleHRDb2xvciA9ICJibGFjayI7DQogICAgICAgIGxldCBzdG9wTGlzdCA9IFsib2YiLCAidGhlIiwgImFuZCIsICJiZSIsICJ0d28iLCAieCIsICJ5IiwgInoiLCAiYSIsICJ0byJdOw0KICAgICAgICBpZiAoKGtldFRleHQuaW5kZXhPZihuYW1lKSAhPSAtMSkgJiYgKHN0b3BMaXN0LmluZGV4T2YobmFtZSkgPT0gLTEpKSB7DQogICAgICAgICAgdGV4dENvbG9yID0gInJlZCI7DQogICAgICAgIH0NCiAgICAgICAgbGV0IHN2Z0FyZWEgPSBfdGhpcy5kcmF3VHh0KHN2ZywgdHgsIHR5LCBuYW1lLCB0ZXh0Q29sb3IsIDI0LCBgdHh0cyR7aX1gKTsNCiAgICAgICAgdHggKz0gc3ZnQXJlYS53aWR0aCArIDU7DQogICAgICAgIGlmICh0eCA+ICh3aWR0aCAtIDMwKSkgew0KICAgICAgICAgIGxldCB0cmFueCA9ICh3aWR0aCAtIHR4KSAvIDI7DQogICAgICAgICAgZm9yIChsZXQgaiA9IGk7IGogPj0gbGF5OyBqLS0pIHsNCiAgICAgICAgICAgIGQzLnNlbGVjdChgI3R4dHMke2p9YCkuYXR0cigidHJhbnNmb3JtIiwgYHRyYW5zbGF0ZSgke3RyYW54fSwwKWApDQogICAgICAgICAgfQ0KICAgICAgICAgIGxheSA9IGk7DQogICAgICAgICAgdHggPSAzMDsNCiAgICAgICAgICB0eSArPSAzMDsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoaSA9PSB0eHRzLmxlbmd0aCAtIDEpIHsNCiAgICAgICAgICBsZXQgdHJhbnggPSAod2lkdGggLSB0eCkgLyAyOw0KICAgICAgICAgIGZvciAobGV0IGogPSBpOyBqID49IGxheTsgai0tKSB7DQogICAgICAgICAgICBkMy5zZWxlY3QoYCN0eHRzJHtqfWApLmF0dHIoInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUoJHt0cmFueH0sMClgKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgZHJhd3Jvb3RUb3BpY0xpbmUoKSB7DQogICAgICBjb25zdCBfdGhpcyA9IHRoaXM7DQogICAgICBjb25zdCBtYXJnaW4gPSBfdGhpcy5tYXJnaW47DQogICAgICBjb25zdCBtY29sb3IgPSBfdGhpcy5tY29sb3I7DQoNCiAgICAgIGxldCB3aWR0aCA9IHRoaXMuJHJlZnMucm9vdFRvcGljTGluZS5vZmZzZXRXaWR0aCAvLy0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7DQogICAgICBsZXQgaGVpZ2h0ID0gdGhpcy4kcmVmcy5yb290VG9waWNMaW5lLm9mZnNldEhlaWdodCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tOw0KICAgICAgX3RoaXMucm9vdFRvcGljTGluZVdpZHRoID0gd2lkdGg7DQogICAgICBfdGhpcy5yb290VG9waWNMaW5lSGVpZ2h0ID0gaGVpZ2h0Ow0KICAgICAgaWYoX3RoaXMuYnRuRWRpKXsNCiAgICAgICAgd2lkdGgtPTMwDQogICAgICAgIHRoaXMuJHJlZnMucHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGg9J2NhbGMoMTAwJSAtIDQwcHgpJw0KICAgICAgICB0aGlzLiRyZWZzLmljb25WaWRlbzUuc3R5bGUuZGlzcGxheSA9ICdibG9jaycNCiAgICAgIH0NCiAgICAgIGVsc2V7DQogICAgICB0aGlzLiRyZWZzLmljb25WaWRlbzUuc3R5bGUuZGlzcGxheSA9ICdub25lJw0KICAgICAgICANCiAgICAgICAgdGhpcy4kcmVmcy5wcm9ncmVzc0Jhci5zdHlsZS53aWR0aD0nY2FsYygxMDAlIC0gMTBweCknDQogICAgICB9DQogICAgICBkMy5zZWxlY3QoIiNyb290VG9waWNMaW5lIikuc2VsZWN0KCJzdmciKS5yZW1vdmUoKTsNCiAgICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoIiNyb290VG9waWNMaW5lIikuYXBwZW5kKCJzdmciKQ0KICAgICAgICAuYXR0cigiaWQiLCAicm9vdFRvcGljTGluZVN2ZyIpDQogICAgICAgIC5hdHRyKCJ3aWR0aCIsIHdpZHRoKQ0KICAgICAgICAuYXR0cigiaGVpZ2h0IiwgaGVpZ2h0KTsNCg0KICAgICAgbGV0IGdyb3VwcyA9IHN2Zy5hcHBlbmQoImciKS5hdHRyKCJpZCIsICJncm91cHMiKS5hdHRyKCJ3aWR0aCIsIHdpZHRoKS5hdHRyKCJoZWlnaHQiLCBoZWlnaHQpOw0KICAgICAgbGV0IHRvb3RUb3BpY0VudEcgPSBncm91cHMuYXBwZW5kKCJnIikuYXR0cigiaWQiLCAidG9vdFRvcGljRW50RyIpLmF0dHIoIndpZHRoIiwgd2lkdGgpLmF0dHIoImhlaWdodCIsIGhlaWdodCk7DQogICAgICBsZXQgcm9vdE9yaUxpbmVHID0gZ3JvdXBzLmFwcGVuZCgiZyIpLmF0dHIoImlkIiwgInJvb3RPcmlMaW5lRyIpLmF0dHIoIndpZHRoIiwgd2lkdGgpLmF0dHIoImhlaWdodCIsIGhlaWdodCk7DQoNCiAgICAgIHJvb3RPcmlMaW5lRy5hcHBlbmQoImxpbmUiKQ0KICAgICAgICAuYXR0cigieDEiLCAwKQ0KICAgICAgICAuYXR0cigieTEiLCBoZWlnaHQgLyAyKQ0KICAgICAgICAuYXR0cigieDIiLCB3aWR0aCkNCiAgICAgICAgLmF0dHIoInkyIiwgaGVpZ2h0IC8gMikNCiAgICAgICAgLmF0dHIoInN0cm9rZSIsICJyZ2IoMjAwLDIwMCwyMDApIikNCiAgICAgICAgLmF0dHIoInN0cm9rZS13aWR0aCIsICI1cHgiKTsNCg0KICAgICAgbGV0IGN4TGluZWFyID0gZDMuc2NhbGVMaW5lYXIoWzAsIF90aGlzLnZpZGVvRHVyYXRpb25dLCBbMCwgd2lkdGhdKQ0KDQogICAgICBsZXQgZGF0YSA9IHRvb2xzLmRlZXBDbG9uZShfdGhpcy5kYXRhKTsNCiAgICAgIGxldCBEaXZpc2lvbkRhdGFMaXN0ID0gW107DQogICAgICBsZXQgY29sb3JJbmRleCA9IDA7DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgaWYgKGRhdGFbaV1bJ2xheW91dCddID09ICcwJykgew0KICAgICAgICAgIGlmIChEaXZpc2lvbkRhdGFMaXN0Lmxlbmd0aCAhPSAwKSB7DQogICAgICAgICAgICBEaXZpc2lvbkRhdGFMaXN0W0RpdmlzaW9uRGF0YUxpc3QubGVuZ3RoIC0gMV1bJ25leHRJZCddID0gZGF0YVtpXVsnaWQnXTsNCiAgICAgICAgICAgIGRhdGFbaV1bJ3ByZUlkJ10gPSBEaXZpc2lvbkRhdGFMaXN0W0RpdmlzaW9uRGF0YUxpc3QubGVuZ3RoIC0gMV1bJ2lkJ107DQogICAgICAgICAgfQ0KICAgICAgICAgIGVsc2UgeyBkYXRhW2ldWydwcmVJZCddID0gIi0xIjsgfQ0KICAgICAgICAgIERpdmlzaW9uRGF0YUxpc3QucHVzaChkYXRhW2ldKTsNCiAgICAgICAgICBsZXQgdGltZSA9IHRvb2xzLnRpbWUyc2Vjb25kcyhkYXRhW2ldWyd0aW1lJ11bMF0pOw0KICAgICAgICAgIGxldCBlbmRUaW1lID0gdG9vbHMudGltZTJzZWNvbmRzKGRhdGFbaV1bJ3RpbWUnXVswXSkgKyBkYXRhW2ldWyd0b3RhbER1cmF0aW9uJ107DQogICAgICAgICAgbGV0IGN4ID0gY3hMaW5lYXIodGltZSk7DQogICAgICAgICAgbGV0IGVuZHggPSBjeExpbmVhcihlbmRUaW1lKTsNCiAgICAgICAgICBsZXQgY29sb3IgPSBtY29sb3JbY29sb3JJbmRleF07DQogICAgICAgICAgLy8gaWYgKGRhdGFbaV1bJ25hbWUnXSAhPSAnVGVzdCcpIHsNCiAgICAgICAgICBpZiAoMSkgew0KICAgICAgICAgICAgY29sb3IgPSBtY29sb3JbY29sb3JJbmRleF07DQogICAgICAgICAgICBjb2xvckluZGV4Kys7DQogICAgICAgICAgfQ0KICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgY29sb3IgPSAicmdiKDI1MCwgMTk5LCA4OCkiOw0KICAgICAgICAgIH0NCiAgICAgICAgICAvLyBfdGhpcy5jb2xvck1hcFtkYXRhW2ldWydpZCddXSA9IGNvbG9ySW5kZXggJSBjb2xvci5sZW5ndGg7DQogICAgICAgICAgX3RoaXMuZHJhd1JlY3Qocm9vdE9yaUxpbmVHLCBjeCAtIDEsIGhlaWdodCAvIDYsIDQsIGhlaWdodC8zKjIsIDIsICJkaXZpc2lvbl8iICsgZGF0YVtpXVsiaWQiXSwgInJvb3RkaXZpc2lvbkxpbmUiLCAicmdiKDI1MCwyNTAsMjUwKSIsIDAsICcnLCAxKQ0KICAgICAgICAgIF90aGlzLmRyYXdSZWN0KHRvb3RUb3BpY0VudEcsIGN4LCBoZWlnaHQvNiwgZW5keCAtIGN4LCBoZWlnaHQvMyoyLCAxLCAicm9vdEVudF8iICsgZGF0YVtpXVsnaWQnXSwgInJvb3RFbnQiLCBjb2xvciwgMiwgInJnYigyNTAsMjUwLDI1MCkiLCAwLjgpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIERpdmlzaW9uRGF0YUxpc3RbRGl2aXNpb25EYXRhTGlzdC5sZW5ndGggLSAxXVsnbmV4dElkJ10gPSAiLTEiOw0KICAgICAgX3RoaXMucm9vdERpdmlzaW9uRGF0YUxpc3QgPSBEaXZpc2lvbkRhdGFMaXN0Ow0KDQogICAgICAvLyByb290T3JpTGluZUcuYXBwZW5kKCJlbGxpcHNlIikNCiAgICAgIC8vIC5hdHRyKCJjeCIsNTApDQogICAgICAvLyAuYXR0cigiY3kiLGhlaWdodC8yKQ0KICAgICAgLy8gLmF0dHIoInJ4Iiw1MCkNCiAgICAgIC8vIC5hdHRyKCJyeSIsaGVpZ2h0LzIpDQogICAgICAvLyAuYXR0cigiZmlsbCIsY29sb3JbM10pDQogICAgICAvLyAuYXR0cigic3Ryb2tlIiwgY29sb3JbM10pDQoNCiAgICAgIC8vIC5hdHRyKCJzdHJva2Utd2lkdGgiLCAiNXB4Iik7DQogICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKQ0KICAgICAgLy8gdGhpcy4kYnVzLiRlbWl0KCJnZXREYXRhIixkYXRhKQ0KICAgIH0sDQogICAgZHJhd1JlY3Qoc3ZnLCB4LCB5LCB3LCBoLCByeCwgaWROYW1lLCBjbGFzc05hbWUsIGZpbGwsIHN0cm9rZVdpZHRoLCBzdHJva2UsIG9wYWNpdHkpIHsNCiAgICAgIGNvbnN0IF90aGlzID0gdGhpczsNCiAgICAgIHN2Zy5hcHBlbmQoInJlY3QiKQ0KICAgICAgICAuYXR0cigieCIsIHgpDQogICAgICAgIC5hdHRyKCJ5IiwgeSkNCiAgICAgICAgLmF0dHIoImlkIiwgaWROYW1lKQ0KICAgICAgICAuYXR0cigiY2xhc3MiLCBjbGFzc05hbWUpDQogICAgICAgIC5hdHRyKCJvcGFjaXR5Iiwgb3BhY2l0eSkNCiAgICAgICAgLmF0dHIoIndpZHRoIiwgdykNCiAgICAgICAgLmF0dHIoImhlaWdodCIsIGgpDQogICAgICAgIC5hdHRyKCJmaWxsIiwgZmlsbCkNCiAgICAgICAgLmF0dHIoInJ4IiwgcngpDQogICAgICAgIC5hdHRyKCJzdHJva2UiLCBzdHJva2UpLy8icmdiKDE1MCwxNTAsMTUwKSIpDQogICAgICAgIC5hdHRyKCJzdHJva2Utd2lkdGgiLCBzdHJva2VXaWR0aCkNCiAgICAgICAgLm9uKCJtb3VzZWRvd24iLCBmdW5jdGlvbiAoZCkgew0KICAgICAgICAgIF90aGlzLnNlbGVjdFJlY3RJZCA9IGlkTmFtZS5zcGxpdCgiXyIpWzFdIC8vZDMuc2VsZWN0KHRoaXMpLmF0dHIoImlkIik7DQogICAgICAgICAgaWYgKGQzLnNlbGVjdCh0aGlzKS5hdHRyKCJjbGFzcyIpID09ICJyb290ZGl2aXNpb25MaW5lIikgew0KICAgICAgICAgICAgX3RoaXMuc2VsZWN0UmVjdENsYXNzID0gInJvb3RFbnQiOw0KICAgICAgICAgICAgX3RoaXMubW92ZUxpbmVXaWR0aCA9IF90aGlzLnJvb3RUb3BpY0xpbmVXaWR0aDsNCiAgICAgICAgICAgIF90aGlzLkRpdmlzaW9uRGF0YUxpc3QgPSBfdGhpcy5yb290RGl2aXNpb25EYXRhTGlzdDsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290VG9waWNMaW5lU3ZnJykuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgX3RoaXMubW92ZVJlY3QpOyAvLyDnm5HlkKzngrnlh7vkuovku7YNCiAgICAgICAgICB9DQogICAgICAgICAgZWxzZSBpZiAoZDMuc2VsZWN0KHRoaXMpLmF0dHIoImNsYXNzIikgPT0gImVudGRpdmlzaW9uTGluZSIpIHsNCiAgICAgICAgICAgIF90aGlzLnNlbGVjdFJlY3RDbGFzcyA9ICJlZGl0RW50IjsNCiAgICAgICAgICAgIF90aGlzLm1vdmVMaW5lV2lkdGggPSBfdGhpcy5lbnRMaW5lV2lkdGg7DQogICAgICAgICAgICBfdGhpcy5EaXZpc2lvbkRhdGFMaXN0ID0gX3RoaXMuZW50RGl2aXNpb25EYXRhTGlzdDsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RW50JykuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgX3RoaXMubW92ZVJlY3QpOyAvLyDnm5HlkKzngrnlh7vkuovku7YNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5vbigibW91c2V1cCIsIGZ1bmN0aW9uIChkKSB7DQogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3RUb3BpY0xpbmVTdmcnKS5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLCBfdGhpcy5tb3ZlUmVjdCk7IC8vIA0KICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RW50JykucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgX3RoaXMubW92ZVJlY3QpOyAvLyANCiAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCJ0b3BpY1JlY3R1cCIsIDEpOw0KDQogICAgICAgICAgLy8gX3RoaXMuJGJ1cy4kZW1pdCgidHJlZURhdGEiLCBfdGhpcy50cmVlRGF0YSk7DQogICAgICAgIH0pDQogICAgfSwNCiAgICBtb3ZlUmVjdChlKSB7DQogICAgICBjb25zdCBfdGhpcyA9IHRoaXM7DQogICAgICBsZXQgc2VsZWN0UmVjdCA9IF90aGlzLkRpdmlzaW9uRGF0YUxpc3QuZmluZChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZFsnaWQnXSA9PSBfdGhpcy5zZWxlY3RSZWN0SWQ7IH0pLy/lj7PovrnnmoRyZWN0DQogICAgICBsZXQgcHJlSWQgPSBzZWxlY3RSZWN0WydwcmVJZCddOy8v5bem6L6555qEcmVjdA0KICAgICAgbGV0IG5leHRJZCA9IHNlbGVjdFJlY3RbJ25leHRJZCddOy8v5Y+z6L6555qE5Y+z6L65cmVjdA0KICAgICAgbGV0IHJlY3RDbGFzcyA9IF90aGlzLnNlbGVjdFJlY3RDbGFzczsNCiAgICAgIGxldCBwcmV4ID0gMDsNCiAgICAgIGlmIChwcmVJZCAhPSAnLTEnKSB7DQogICAgICAgIHByZXggPSBkMy5zZWxlY3QoIiMiICsgcmVjdENsYXNzICsgIl8iICsgcHJlSWQpLmF0dHIoIngiKQ0KICAgICAgICBkMy5zZWxlY3QoIiMiICsgcmVjdENsYXNzICsgIl8iICsgcHJlSWQpDQogICAgICAgICAgLmF0dHIoIndpZHRoIiwgZnVuY3Rpb24gKGQpIHsNCiAgICAgICAgICAgIHJldHVybiBlLm9mZnNldFggLSBwcmV4Ow0KICAgICAgICAgIH0pDQogICAgICB9DQogICAgICBsZXQgbmV4dFggPSAxMDA7DQogICAgICBpZiAobmV4dElkID09ICctMScpIHsNCiAgICAgICAgbmV4dFggPSBfdGhpcy5tb3ZlTGluZVdpZHRoOw0KICAgICAgfQ0KICAgICAgZWxzZSB7DQogICAgICAgIG5leHRYID0gZDMuc2VsZWN0KCIjIiArIHJlY3RDbGFzcyArICJfIiArIG5leHRJZCkuYXR0cigieCIpOw0KICAgICAgfQ0KICAgICAgZDMuc2VsZWN0KCIjIiArIHJlY3RDbGFzcyArICJfIiArIF90aGlzLnNlbGVjdFJlY3RJZCkNCiAgICAgICAgLmF0dHIoIndpZHRoIiwgZnVuY3Rpb24gKGQpIHsNCiAgICAgICAgICByZXR1cm4gbmV4dFggLSBlLm9mZnNldFg7DQogICAgICAgIH0pDQogICAgICAgIC5hdHRyKCJ4IiwgZS5vZmZzZXRYKQ0KICAgICAgZDMuc2VsZWN0KCIjZGl2aXNpb25fIiArIF90aGlzLnNlbGVjdFJlY3RJZCkNCiAgICAgICAgLmF0dHIoIngiLCBlLm9mZnNldFggLSA1KQ0KDQogICAgICBpZiAoKGUub2Zmc2V0WCA+IChfdGhpcy5yb290VG9waWNMaW5lV2lkdGgpKSB8fCAoZS5vZmZzZXRYIDwgKDApKSB8fCAoZS5vZmZzZXRZID4gKF90aGlzLnJvb3RUb3BpY0xpbmVIZWlnaHQpKSB8fCAoZS5vZmZzZXRZIDwgKDApKSkgew0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdFRvcGljTGluZVN2ZycpLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIF90aGlzLm1vdmVSZWN0KTsgLy8gDQogICAgICB9DQogICAgfSwNCiAgICBkcmF3VHh0KHN2ZywgdHgsIHR5LCB0eHRzLCBmaWxsLCBzaXplLCBpZE5hbWUpIHsNCiAgICAgIHN2Zy5hcHBlbmQoInRleHQiKQ0KICAgICAgICAuYXR0cigieSIsIHR5KQ0KICAgICAgICAuYXR0cigieCIsIHR4KQ0KICAgICAgICAuYXR0cigiaWQiLCBpZE5hbWUpDQogICAgICAgIC5hdHRyKCJmaWxsIiwgZmlsbCkNCiAgICAgICAgLmF0dHIoImZvbnQtc2l6ZSIsIHNpemUpDQogICAgICAgIC50ZXh0KHR4dHMpDQoNCiAgICAgIGxldCB0ZXh0QXJlYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkTmFtZSkuZ2V0QkJveCgpOw0KICAgICAgcmV0dXJuIHRleHRBcmVhOw0KICAgICAgLy8gLnN0eWxlKCJ0ZXh0LWFuY2hvciIsIGFuY2hvcikvLyJtaWRkbGUiKQ0KICAgICAgLy8gLmF0dHIoInRyYW5zZm9ybSIsIGByb3RhdGUoJHtyb2F0fSAke3R4fSAke3R5fSlgKTsNCiAgICB9LA0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHZhciBfdGhpcyA9IHRoaXM7DQogICAgdGhpcy4kYnVzLiRvbignZ3JhcGhEYXRhJywgKHZhbCkgPT4gew0KICAgICAgX3RoaXMuZGF0YSA9IHZhbDsNCiAgICAgIGxldCBrZXRUZXh0ID0gW107DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IF90aGlzLmRhdGEubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgbGV0IG5hbWVzID0gX3RoaXMuZGF0YVtpXVsnbmFtZSddLnNwbGl0KCIgIik7DQogICAgICAgIGZvciAobGV0IG4gaW4gbmFtZXMpIHsNCiAgICAgICAgICBrZXRUZXh0LnB1c2gobmFtZXNbbl0pOw0KICAgICAgICB9DQogICAgICB9DQogICAgICBfdGhpcy5rZXRUZXh0ID0ga2V0VGV4dDsNCiAgICAgIF90aGlzLmRyYXdyb290VG9waWNMaW5lKCk7DQogICAgfSk7DQogICAgdGhpcy4kYnVzLiRvbigncmVjb2duaXplVGV4dCcsICh2YWwpID0+IHsNCiAgICAgIF90aGlzLnJlY29nbml6ZVRleHQgPSB2YWw7DQogICAgfSk7DQogICAgdGhpcy4kYnVzLiRvbigncmVsRGF0YScsICh2YWwpID0+IHsNCiAgICAgIF90aGlzLnJlbERhdGEgPSB2YWw7DQogICAgfSk7DQogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgX3RoaXMudmlkZW9XaWR0aCA9IHRoaXMuJHJlZnMudmlkZW9EaXYub2Zmc2V0V2lkdGgNCiAgICAgIF90aGlzLnZpZGVvSGVpZ2h0ID0gdGhpcy4kcmVmcy52aWRlb0Rpdi5vZmZzZXRIZWlnaHQNCiAgICB9KQ0KICAgIC8vIGxldCBzY2VuZUxpdmluZyA9IGNyZWF0ZS5TY2VuZSgpOw0KICAgIC8vIGxldCBzY2VuZVRlYWNoaW5nID0gY3JlYXRlLlNjZW5lKCk7DQoNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB2YXIgX3RoaXMgPSB0aGlzOw0KICAgIA0KICAgIHRoaXMuJGJ1cy4kb24oJ3N3aXRjaEwnLCAodmFsKSA9PiB7DQogICAgICBfdGhpcy5zd2l0Y2hMID0gdmFsOw0KICAgIH0pOw0KICAgIA0KICAgIC8vIGRpc2FibGVkIGluIHRoZSBvbmxpbmUgZGVtbw0KICAgIC8vIHRoaXMuJGJ1cy4kb24oJ2VudERhdGEnLCAodmFsKSA9PiB7DQogICAgLy8gICBfdGhpcy5kYXRhID0gdmFsOw0KICAgIC8vIH0pOw0KICAgIC8vIHRoaXMuJGJ1cy4kb24oJ3JlbERhdGEnLCAodmFsKSA9PiB7DQogICAgLy8gICBfdGhpcy5yZWxEYXRhID0gdmFsOw0KICAgIC8vIH0pOw0KICB9DQp9IA0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/Video","sourcesContent":["<!-- eslint-disable no-unused-vars -->\r\n<!-- eslint-disable no-unused-vars -->\r\n\r\n<template>\r\n  <div class=\"video\" ref=\"videoDiv\">\r\n\r\n    <!-- <div class=\"panelHead\"></div> -->\r\n    <div class=\"perVideo\">\r\n      <VideoPlay v-show=\"true\" :timeDot=\"timeDot\" @videoTime=\"getVideoTime\" :videoUrl=\"videoUrl\" :videoCover=\"videoCover\"\r\n        :width=\"videoWidth\" :height=\"videoHeight\" :autoplay=\"true\" :controls=\"true\" :loop=\"false\" :muted=\"false\"\r\n        preload=\"auto\" :showPlay=\"true\" :playWidth=\"96\" zoom=\"cotain\" />\r\n      <!-- <video class=\"perVideo\" ref=\"video\"   :src=\"url\"></video> -->\r\n    </div>\r\n    <div id=\"rootTopicLine\" ref=\"rootTopicLine\">\r\n      <div id=\"progressBar\" ref=\"progressBar\" @click=\"processBarCli\"></div>\r\n    </div>\r\n    <div id=\"videoScriptUp\" ref=\"videoScriptUp\">\r\n\r\n      <div id=\"iconVideo1\" >\r\n        <img class=\"iconUpload\" :src=\"videoUrl1\">\r\n      </div>\r\n      <div id=\"iconVideo2\" >\r\n        <img class=\"iconUpload\" :src=\"videoUrl2\">\r\n      </div>\r\n\r\n      <div id=\"iconVideo3\">\r\n        <img class=\"iconUpload\" :src=\"videoUrl3\">\r\n      </div>\r\n\r\n      <div id=\"iconVideo4\">\r\n        <img class=\"iconUpload\" :src=\"videoUrl4\">\r\n      </div>     \r\n       \r\n      <div id=\"timeDurText\">\r\n        {{ timeNow }}/{{ overTime }}\r\n      </div>\r\n      <div id=\"iconVideo5\" ref=\"iconVideo5\">\r\n        <img class=\"iconUpload\" :src=\"videoUrl5\">\r\n      </div>\r\n    </div>\r\n    <div id=\"videoScript\" ref=\"videoScript\">\r\n      <!-- <div id=\"progressBar\" ref=\"progressBar\" @click=\"processBarCli\"></div> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\n\r\nimport * as d3 from 'd3'\r\nimport { onMounted, ref } from 'vue';\r\nimport domtoimage from 'dom-to-image';\r\nimport VideoPlay from '@/components/VideoPlay';\r\nimport tools from \"@/utils/tools.js\";\r\n// import scriptsData from '@/assets/json/case1scriptsData.json'\r\nimport scriptsData from '@/assets/json/c5.json'\r\n\r\n//场景元素div\r\nexport default {\r\n  props: [\"timeDur\"],\r\n  components: {\r\n    VideoPlay\r\n  },\r\n  data() {\r\n    return {\r\n      scriptsData: scriptsData,\r\n      scriptsText: [],\r\n      recognizeText:[],\r\n      ketText: [],\r\n      videoWidth: 100,\r\n      videoHeight: 100,\r\n      rootTopicLineWidth: 100,\r\n      rootTopicLineHeight: 100,\r\n      data: '',\r\n      relData: '',\r\n      timeDot: 0,\r\n      // videoDuration: 378,//c6\r\n      // videoDuration: 438,//c5\r\n      videoDuration: 672,\r\n      // videoDuration: 550,\r\n      // videoDuration: 668,\r\n      timeNow: '1',\r\n      overTime: '1',\r\n      publicPath: process.env.BASE_URL,\r\n      vertexShader: '',\r\n      // url:\"../videos/[2.1.1]--机器数及特点视频.mp4\",\r\n      // url: \"../videos/index.mp4\",\r\n      videoUrl1:require('@/assets/img/暂停.png'),\r\n      videoUrl2:require('@/assets/img/快进.png'),\r\n      videoUrl3:require('@/assets/img/音量.png'),\r\n      videoUrl4:require('@/assets/img/全屏.png'),\r\n      videoUrl5:require('@/assets/img/addTopic.png'),\r\n      videoUrl: require('@/assets/videos/case3.mp4'),\r\n      // videoUrl: require('@/assets/videos/case2.mp4'),\r\n      // 视频封面支持https或require本地地址\r\n      videoCover: require('@/assets/img/tt.jpg'),\r\n\r\n      windowWidth: document.documentElement.clientWidth, //实时屏幕宽度\r\n      windowHeight: document.documentElement.clientHeight, //实时屏幕高度\r\n      colorMap: {},\r\n      margin: { top: 5, right: 5, bottom: 5, left: 5 },\r\n      // mcolor: [\r\n      //   \"rgb(255,60,60)\",\r\n      //   \"rgb(155,20,100)\",\r\n      //   \"rgb(255,83,255)\",\r\n      //   \"rgb(200,100,50)\",\r\n      //   \"rgb(235,135,162)\",\r\n      //   \"rgb(200,200,102)\",\r\n      //   \"rgb(255,178,101)\",\r\n      //   \"rgb(63,151,134)\",\r\n      //   \"rgb(83,155,255)\",\r\n      //   \"rgb(50,200,120)\",\r\n      //   \"rgb(2,50,200)\",\r\n      //   \"rgb(0,122,244)\",\r\n      //   \"rgb(150,122,244)\",\r\n      //   \"rgb(168,168,255)\",\r\n      //   \"rgb(200,200,200)\",\r\n      // ],\r\n      mcolor: [\r\n        \"rgb(125, 66, 206)\",\r\n        \"rgb(248, 134, 124)\",\r\n        \"rgb(50, 198, 191)\",\r\n        \"rgb(135, 126, 253)\",\r\n        \"rgb(198, 121, 123)\",\r\n        \"rgb(252, 177, 49)\",\r\n        \"rgb(112, 202, 229)\",\r\n        \"rgb(125, 66, 206)\",\r\n        \"rgb(248, 134, 124)\",\r\n        \"rgb(50, 198, 191)\",\r\n        \"rgb(135, 126, 253)\",\r\n        \"rgb(198, 121, 123)\",\r\n        \"rgb(252, 177, 49)\",\r\n        \"rgb(112, 202, 229)\",\r\n      ],\r\n      // mcolor: [\r\n      //   \"rgb(91, 107, 255)\",\r\n      //   \"rgb(6, 214, 160)\",\r\n      //   \"rgb(255, 120, 90)\",\r\n      //   \"rgb(125, 98, 211)\",\r\n      //   \"rgb(255, 113, 212)\",\r\n      //   \"rgb(112, 214, 255)\",\r\n      //   \"rgb(255, 159, 28)\",\r\n      //   \"rgb(255, 77, 109)\",\r\n      // ],\r\n      mLightcolor: [\r\n        \"#ff9c9c\",\r\n        \"#cc88b0\",\r\n        \"#ffa8ff\",\r\n        \"#e3b097\",\r\n        \"#f4c3d0\",\r\n        \"#f4f4d0\",\r\n        \"#ffd8b1\",\r\n        \"#9ecac2\",\r\n        \"#a8ccff\",\r\n        \"#97e3ba\",\r\n        \"#6f8be0\",\r\n        \"rgb(0,122,244)\",\r\n        \"#b6a2f7\",\r\n        \"rgb(168,168,255)\",\r\n        \"rgb(200,200,200)\",\r\n      ],\r\n      DivisionDataList: [],\r\n      rootDivisionDataList: [],\r\n      entDivisionDataList: [],\r\n      switchL:[],\r\n      btnEdi:false,\r\n      timeDot:\"\"\r\n    };\r\n  },\r\n  watch: {\r\n    timeDur(val) {\r\n      this.timeDot = tools.time2seconds(val[0]);\r\n    },\r\n    scriptsText(val) {\r\n      this.drawScript();\r\n    },\r\n    recognizeText(val){\r\n      console.log(val)\r\n      if(val[0] == 1){\r\n        this.scriptsText = [val[1]]\r\n      }\r\n      else{\r\n        this.addScript(this.timeDot) \r\n      }\r\n    },\r\n    switchL: {\r\n      deep: true,\r\n      handler(val) {\r\n        this.btnEdi = val[3];\r\n        this.drawrootTopicLine()\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    getVideoTime(val) {\r\n      const _this = this;\r\n      _this.timeNow = tools.seconds2time(val.toFixed(0));\r\n      _this.overTime = tools.seconds2time(_this.videoDuration);\r\n      let margin = _this.margin;\r\n      let width = this.$refs.progressBar.offsetWidth;\r\n      let widths = 'calc(100% - 10px)'\r\n      if(_this.btnEdi){\r\n        width-=30\r\n        widths = 'calc(100% - 40px)'\r\n      }\r\n      let timeLinear = d3.scaleLinear([0, _this.videoDuration], [0, width]);\r\n      let mid = timeLinear(val) / width * 100;\r\n      // _this.timeDot = val;\r\n      _this.addScript(val);\r\n      d3.select(\"#progressBar\")\r\n        .attr(\"style\", `background: linear-gradient(90deg, rgb(200, 200, 200) ${mid}%,rgb(244, 244, 244) ${mid}%) !important;  width: ${widths}`)\r\n      this.$emit(\"videoTime\", val);\r\n    },\r\n    processBarCli(e) {\r\n      const _this = this;\r\n      let x = e.layerX;\r\n      let width = this.$refs.progressBar.offsetWidth;\r\n      if(_this.btnEdi){\r\n        width-=30\r\n      }\r\n      let timeLinear = d3.scaleLinear([0, width], [0, _this.videoDuration]);\r\n      this.timeDot = timeLinear(x);\r\n    },\r\n    addScript(timeDot) {\r\n      const _this = this;\r\n      let scriptsData = _this.scriptsData;\r\n      for (let t in scriptsData) {\r\n        let timeDur = scriptsData[t]['time'];\r\n        let sTime = tools.time2seconds(timeDur[0]);\r\n        let eTime = tools.time2seconds(timeDur[1]);\r\n        if ((timeDot > sTime) && (timeDot < eTime)) {\r\n          _this.scriptsText = scriptsData[t]['text']\r\n        }\r\n\r\n      }\r\n    },\r\n    drawScriptUp() {\r\n      let width = this.$refs.videoScriptUp.offsetWidth - margin.left - margin.right;\r\n      let height = this.$refs.videoScriptUp.offsetHeight - margin.top - margin.bottom;\r\n      d3.select(\"#videoScriptUp\").select(\"svg\").remove();\r\n      var svg = d3.select(\"#videoScriptUp\").append(\"svg\")\r\n        .attr(\"id\", \"videoScriptUpSvg\")\r\n        .attr(\"width\", width)\r\n        .attr(\"height\", height);\r\n    },\r\n    drawScript() {\r\n      const _this = this;\r\n      let txts = _this.scriptsText;\r\n      let margin = _this.margin;\r\n      let ketText = _this.ketText;\r\n      let width = this.$refs.videoScript.offsetWidth - margin.left - margin.right;\r\n      let height = this.$refs.videoScript.offsetHeight - margin.top - margin.bottom+10;\r\n      d3.select(\"#videoScript\").select(\"svg\").remove();\r\n      var svg = d3.select(\"#videoScript\").append(\"svg\")\r\n        .attr(\"id\", \"videoScriptSvg\")\r\n        .attr(\"width\", width)\r\n        .attr(\"height\", height);\r\n      let tx = 30;\r\n      let ty = 50;\r\n      let lay = 0;\r\n      for (let i = 0; i < txts.length; i++) {\r\n        let name = txts[i];\r\n        let w = name.length * 10;\r\n        let h = 20;\r\n        let rx = 5;\r\n        let ry = 5;\r\n        // let color = colorMap[ids[i]];\r\n        // _this.drawRect(g, tx, ty, w, h, rx, ry, color, 0.2, color)\r\n        let textColor = \"black\";\r\n        let stopList = [\"of\", \"the\", \"and\", \"be\", \"two\", \"x\", \"y\", \"z\", \"a\", \"to\"];\r\n        if ((ketText.indexOf(name) != -1) && (stopList.indexOf(name) == -1)) {\r\n          textColor = \"red\";\r\n        }\r\n        let svgArea = _this.drawTxt(svg, tx, ty, name, textColor, 24, `txts${i}`);\r\n        tx += svgArea.width + 5;\r\n        if (tx > (width - 30)) {\r\n          let tranx = (width - tx) / 2;\r\n          for (let j = i; j >= lay; j--) {\r\n            d3.select(`#txts${j}`).attr(\"transform\", `translate(${tranx},0)`)\r\n          }\r\n          lay = i;\r\n          tx = 30;\r\n          ty += 30;\r\n        }\r\n        if (i == txts.length - 1) {\r\n          let tranx = (width - tx) / 2;\r\n          for (let j = i; j >= lay; j--) {\r\n            d3.select(`#txts${j}`).attr(\"transform\", `translate(${tranx},0)`)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    drawrootTopicLine() {\r\n      const _this = this;\r\n      const margin = _this.margin;\r\n      const mcolor = _this.mcolor;\r\n\r\n      let width = this.$refs.rootTopicLine.offsetWidth //- margin.left - margin.right;\r\n      let height = this.$refs.rootTopicLine.offsetHeight - margin.top - margin.bottom;\r\n      _this.rootTopicLineWidth = width;\r\n      _this.rootTopicLineHeight = height;\r\n      if(_this.btnEdi){\r\n        width-=30\r\n        this.$refs.progressBar.style.width='calc(100% - 40px)'\r\n        this.$refs.iconVideo5.style.display = 'block'\r\n      }\r\n      else{\r\n      this.$refs.iconVideo5.style.display = 'none'\r\n        \r\n        this.$refs.progressBar.style.width='calc(100% - 10px)'\r\n      }\r\n      d3.select(\"#rootTopicLine\").select(\"svg\").remove();\r\n      var svg = d3.select(\"#rootTopicLine\").append(\"svg\")\r\n        .attr(\"id\", \"rootTopicLineSvg\")\r\n        .attr(\"width\", width)\r\n        .attr(\"height\", height);\r\n\r\n      let groups = svg.append(\"g\").attr(\"id\", \"groups\").attr(\"width\", width).attr(\"height\", height);\r\n      let tootTopicEntG = groups.append(\"g\").attr(\"id\", \"tootTopicEntG\").attr(\"width\", width).attr(\"height\", height);\r\n      let rootOriLineG = groups.append(\"g\").attr(\"id\", \"rootOriLineG\").attr(\"width\", width).attr(\"height\", height);\r\n\r\n      rootOriLineG.append(\"line\")\r\n        .attr(\"x1\", 0)\r\n        .attr(\"y1\", height / 2)\r\n        .attr(\"x2\", width)\r\n        .attr(\"y2\", height / 2)\r\n        .attr(\"stroke\", \"rgb(200,200,200)\")\r\n        .attr(\"stroke-width\", \"5px\");\r\n\r\n      let cxLinear = d3.scaleLinear([0, _this.videoDuration], [0, width])\r\n\r\n      let data = tools.deepClone(_this.data);\r\n      let DivisionDataList = [];\r\n      let colorIndex = 0;\r\n      for (let i = 0; i < data.length; i++) {\r\n        if (data[i]['layout'] == '0') {\r\n          if (DivisionDataList.length != 0) {\r\n            DivisionDataList[DivisionDataList.length - 1]['nextId'] = data[i]['id'];\r\n            data[i]['preId'] = DivisionDataList[DivisionDataList.length - 1]['id'];\r\n          }\r\n          else { data[i]['preId'] = \"-1\"; }\r\n          DivisionDataList.push(data[i]);\r\n          let time = tools.time2seconds(data[i]['time'][0]);\r\n          let endTime = tools.time2seconds(data[i]['time'][0]) + data[i]['totalDuration'];\r\n          let cx = cxLinear(time);\r\n          let endx = cxLinear(endTime);\r\n          let color = mcolor[colorIndex];\r\n          // if (data[i]['name'] != 'Test') {\r\n          if (1) {\r\n            color = mcolor[colorIndex];\r\n            colorIndex++;\r\n          }\r\n          else {\r\n            color = \"rgb(250, 199, 88)\";\r\n          }\r\n          // _this.colorMap[data[i]['id']] = colorIndex % color.length;\r\n          _this.drawRect(rootOriLineG, cx - 1, height / 6, 4, height/3*2, 2, \"division_\" + data[i][\"id\"], \"rootdivisionLine\", \"rgb(250,250,250)\", 0, '', 1)\r\n          _this.drawRect(tootTopicEntG, cx, height/6, endx - cx, height/3*2, 1, \"rootEnt_\" + data[i]['id'], \"rootEnt\", color, 2, \"rgb(250,250,250)\", 0.8)\r\n        }\r\n      }\r\n      DivisionDataList[DivisionDataList.length - 1]['nextId'] = \"-1\";\r\n      _this.rootDivisionDataList = DivisionDataList;\r\n\r\n      // rootOriLineG.append(\"ellipse\")\r\n      // .attr(\"cx\",50)\r\n      // .attr(\"cy\",height/2)\r\n      // .attr(\"rx\",50)\r\n      // .attr(\"ry\",height/2)\r\n      // .attr(\"fill\",color[3])\r\n      // .attr(\"stroke\", color[3])\r\n\r\n      // .attr(\"stroke-width\", \"5px\");\r\n      // console.log(data)\r\n      // this.$bus.$emit(\"getData\",data)\r\n    },\r\n    drawRect(svg, x, y, w, h, rx, idName, className, fill, strokeWidth, stroke, opacity) {\r\n      const _this = this;\r\n      svg.append(\"rect\")\r\n        .attr(\"x\", x)\r\n        .attr(\"y\", y)\r\n        .attr(\"id\", idName)\r\n        .attr(\"class\", className)\r\n        .attr(\"opacity\", opacity)\r\n        .attr(\"width\", w)\r\n        .attr(\"height\", h)\r\n        .attr(\"fill\", fill)\r\n        .attr(\"rx\", rx)\r\n        .attr(\"stroke\", stroke)//\"rgb(150,150,150)\")\r\n        .attr(\"stroke-width\", strokeWidth)\r\n        .on(\"mousedown\", function (d) {\r\n          _this.selectRectId = idName.split(\"_\")[1] //d3.select(this).attr(\"id\");\r\n          if (d3.select(this).attr(\"class\") == \"rootdivisionLine\") {\r\n            _this.selectRectClass = \"rootEnt\";\r\n            _this.moveLineWidth = _this.rootTopicLineWidth;\r\n            _this.DivisionDataList = _this.rootDivisionDataList;\r\n            document.getElementById('rootTopicLineSvg').addEventListener(\"mousemove\", _this.moveRect); // 监听点击事件\r\n          }\r\n          else if (d3.select(this).attr(\"class\") == \"entdivisionLine\") {\r\n            _this.selectRectClass = \"editEnt\";\r\n            _this.moveLineWidth = _this.entLineWidth;\r\n            _this.DivisionDataList = _this.entDivisionDataList;\r\n            document.getElementById('editEnt').addEventListener(\"mousemove\", _this.moveRect); // 监听点击事件\r\n          }\r\n        })\r\n        .on(\"mouseup\", function (d) {\r\n          document.getElementById('rootTopicLineSvg').removeEventListener(\"mousemove\", _this.moveRect); // \r\n          document.getElementById('editEnt').removeEventListener(\"mousemove\", _this.moveRect); // \r\n          _this.$bus.$emit(\"topicRectup\", 1);\r\n\r\n          // _this.$bus.$emit(\"treeData\", _this.treeData);\r\n        })\r\n    },\r\n    moveRect(e) {\r\n      const _this = this;\r\n      let selectRect = _this.DivisionDataList.find(function (d) { return d['id'] == _this.selectRectId; })//右边的rect\r\n      let preId = selectRect['preId'];//左边的rect\r\n      let nextId = selectRect['nextId'];//右边的右边rect\r\n      let rectClass = _this.selectRectClass;\r\n      let prex = 0;\r\n      if (preId != '-1') {\r\n        prex = d3.select(\"#\" + rectClass + \"_\" + preId).attr(\"x\")\r\n        d3.select(\"#\" + rectClass + \"_\" + preId)\r\n          .attr(\"width\", function (d) {\r\n            return e.offsetX - prex;\r\n          })\r\n      }\r\n      let nextX = 100;\r\n      if (nextId == '-1') {\r\n        nextX = _this.moveLineWidth;\r\n      }\r\n      else {\r\n        nextX = d3.select(\"#\" + rectClass + \"_\" + nextId).attr(\"x\");\r\n      }\r\n      d3.select(\"#\" + rectClass + \"_\" + _this.selectRectId)\r\n        .attr(\"width\", function (d) {\r\n          return nextX - e.offsetX;\r\n        })\r\n        .attr(\"x\", e.offsetX)\r\n      d3.select(\"#division_\" + _this.selectRectId)\r\n        .attr(\"x\", e.offsetX - 5)\r\n\r\n      if ((e.offsetX > (_this.rootTopicLineWidth)) || (e.offsetX < (0)) || (e.offsetY > (_this.rootTopicLineHeight)) || (e.offsetY < (0))) {\r\n        document.getElementById('rootTopicLineSvg').removeEventListener(\"mousemove\", _this.moveRect); // \r\n      }\r\n    },\r\n    drawTxt(svg, tx, ty, txts, fill, size, idName) {\r\n      svg.append(\"text\")\r\n        .attr(\"y\", ty)\r\n        .attr(\"x\", tx)\r\n        .attr(\"id\", idName)\r\n        .attr(\"fill\", fill)\r\n        .attr(\"font-size\", size)\r\n        .text(txts)\r\n\r\n      let textArea = document.getElementById(idName).getBBox();\r\n      return textArea;\r\n      // .style(\"text-anchor\", anchor)//\"middle\")\r\n      // .attr(\"transform\", `rotate(${roat} ${tx} ${ty})`);\r\n    },\r\n  },\r\n  created() {\r\n    var _this = this;\r\n    this.$bus.$on('graphData', (val) => {\r\n      _this.data = val;\r\n      let ketText = [];\r\n      for (let i = 0; i < _this.data.length; i++) {\r\n        let names = _this.data[i]['name'].split(\" \");\r\n        for (let n in names) {\r\n          ketText.push(names[n]);\r\n        }\r\n      }\r\n      _this.ketText = ketText;\r\n      _this.drawrootTopicLine();\r\n    });\r\n    this.$bus.$on('recognizeText', (val) => {\r\n      _this.recognizeText = val;\r\n    });\r\n    this.$bus.$on('relData', (val) => {\r\n      _this.relData = val;\r\n    });\r\n    this.$nextTick(() => {\r\n      _this.videoWidth = this.$refs.videoDiv.offsetWidth\r\n      _this.videoHeight = this.$refs.videoDiv.offsetHeight\r\n    })\r\n    // let sceneLiving = create.Scene();\r\n    // let sceneTeaching = create.Scene();\r\n\r\n  },\r\n  mounted() {\r\n    var _this = this;\r\n    \r\n    this.$bus.$on('switchL', (val) => {\r\n      _this.switchL = val;\r\n    });\r\n    \r\n    // disabled in the online demo\r\n    // this.$bus.$on('entData', (val) => {\r\n    //   _this.data = val;\r\n    // });\r\n    // this.$bus.$on('relData', (val) => {\r\n    //   _this.relData = val;\r\n    // });\r\n  }\r\n} \r\n</script>\r\n\r\n<style>\r\n@import './index.css';\r\n</style>\r\n"]}]}